if(void 0===window.lookfy||null===document.getElementById("lookfy-loaded")){try{window.lookfy=!0;var elem=document.createElement("div");elem.id="lookfy-loaded",elem.style.cssText="display:none;",null!==document.body&&document.body.appendChild(elem),window.console&&window.console.log&&console.log("%c This store is Powered by Lookfy ","background:#000;color: #dcf3fb","Visit https://apps.shopify.com/lookfy-lookbook-gallery-1/ for more info")}catch(l){console.error(l)}let t="";["lf-discount.myshopify.com"].includes(Shopify.shop)&&(t="--development");var lfBaseUrl=`//lookfy${t}.gadget.app/`,lfCustom=!1,lfUtils={productClass:"kt-button button--secondary",baseUrl:lfBaseUrl,ktPlaceholder:"https://cdn.shopify.com/s/files/1/0826/6983/0455/files/placeholder.jpg",imgEmbedded:140,imgColumn:500,lfLocale:Shopify.locale||window.lfIsoCode,lfCountry:Shopify.country||"",lfCartAdd:window.routes&&window.routes.cart_add_url?window.routes.cart_add_url:window.lfCartAdd,lfShopUrl:Shopify.shop||window.lfShopUrl,lightbox_active:"lf-lightbox-active",photoSwipeClass:"lf-photoSwipe-disabled",aniDelay:150,infoSvg:'<svg width="20px" height="20px" viewBox="0 0 48 48"><path d="M0 0h48v48h-48z" fill="none" aria-hidden="true"/><path class="fill-text" d="M22 34h4v-12h-4v12zm2-30c-11.05 0-20 8.95-20 20s8.95 20 20 20 20-8.95 20-20-8.95-20-20-20zm0 36c-8.82 0-16-7.18-16-16s7.18-16 16-16 16 7.18 16 16-7.18 16-16 16zm-2-22h4v-4h-4v4z"/></svg>',loading:'<div class="kt-loading-overlay__spinner lfHidden"><svg aria-hidden="true" focusable="false" class="kt-spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="kt-path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle></svg></div><div class="kt-loading-overlay__check lfHidden"><svg version="1.1" viewBox="0 0 18 15" xmlns="http://www.w3.org/2000/svg"><g fill="#FFFFFF" fill-rule="evenodd" stroke="none" stroke-width="1"><g fill="#FFFFFF" transform="translate(-423.000000, -47.000000)"><g transform="translate(423.000000, 47.500000)"><path d="M6,10.2 L1.8,6 L0.4,7.4 L6,13 L18,1 L16.6,-0.4 L6,10.2 Z"></path></g></g></g></svg></div>',errorSvg:'<svg aria-hidden="true" focusable="false" role="presentation" class="lf-icon lf-icon-error" viewBox="0 0 14 14"><g fill="none" fill-rule="evenodd"><path d="M7 0a7 7 0 0 1 7 7 7 7 0 1 1-7-7z"></path><path class="icon-error__symbol" d="M6.328 8.396l-.252-5.4h1.836l-.24 5.4H6.328zM6.04 10.16c0-.528.432-.972.96-.972s.972.444.972.972c0 .516-.444.96-.972.96a.97.97 0 0 1-.96-.96z"></path></g></svg><span class="error-message"></span>',documentEvent:function(t,e={}){document.dispatchEvent(new CustomEvent(t,{detail:e}))},createDomEl:(t="div",e="",i="",s={},n={})=>{const o=document.createElement(t);e.trim()&&o.classList.add(...e.trim().split(/\s+/)),o.innerHTML=i;for(const[t,e]of Object.entries(s))o.setAttribute(t,e);for(const[t,e]of Object.entries(n))o.style[t]=e;return o},deepClone:t=>JSON.parse(JSON.stringify(t)),clsUpdate:(t,e=[],i=[])=>{t&&(e.forEach(e=>t.classList.add(e)),i.forEach(e=>t.classList.remove(e)))},select:t=>document.querySelector(t),selectAll:t=>document.querySelectorAll(t),sendPixel:(t,e)=>{if(window.Shopify.analytics)Shopify.analytics.publish(t,e);else{var i=0;let s=setInterval(function(){window.Shopify.analytics&&(Shopify.analytics.publish(t,e),clearInterval(s)),++i>200&&clearInterval(s)},100)}},isAdmin:()=>document.querySelector("#admin-bar-iframe")||window.Shopify.designMode,lfErrorPlaceholder:(t,e)=>{const i=lfUtils.createDomEl("div","lookfy-gallery-placeholder",`<div class="lookfy-gallery-card">${lfUtils.errorSvg} <h2 class="lookfy-gallery-heading">${e}</h2></div>`);t.appendChild(i)},mobileCheck:function(){return window.innerWidth<768||screen.width<768},lfDebounce:function(t){var e;return function(i){e&&clearTimeout(e),e=setTimeout(t,100,i)}},lightbox:function(t={}){(t={...{classes:"",control:'<svg width="38" height="3" viewBox="0 0 38 3" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon icon-mobile-swipe"><rect width="38" height="3" rx="1.5" fill="currentColor"></rect></svg>',close:'<svg class="icon icon-close" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.99989 9.31163L2.29175 15.0198L0.980116 13.7081L6.68826 8L0.980116 2.29186L2.29175 0.980222L7.99989 6.68837L13.708 0.980222L15.0197 2.29186L9.31153 8L15.0197 13.7081L13.708 15.0198L7.99989 9.31163Z" fill="currentColor"></path></svg>',heading:"",text:"",content:null,direction:"down",callback:()=>{},treshhold:100,starttime:100,closetime:400,photoSwipe:!0},...t}).heading&&(t.heading=`<h2 class="lf-lightbox__title">${t.heading}</h2>`);const e=lfUtils.createDomEl("div",`lf-lightbox-main ${t.classes}`,`<div class="lf-lightbox-content lf-lightbox-text lf-mobile-swipe lf-mobile-swipe-${t.direction}"><div class="lf-lightbox__control">${t.control}</div><a class="lf-lightbox__close" href="#">${t.close}</a><div class="lf-lightbox__content-wrapper"><div class="lf-lightbox__content-info">${t.heading}${t.text}</div></div></div>`);t.content&&e.querySelector(".lf-lightbox__content-info").appendChild(t.content);var i=e.querySelector(".lf-lightbox__control"),s=e.querySelector(".lf-lightbox__close"),n=e.querySelector(".lf-lightbox-content"),o="down"===t.direction,r="up"===t.direction,l="right"===t.direction,a="left"===t.direction,d={x:0,y:0},h={x:0,y:0},c="down"===t.direction||"up"===t.direction,p="right"===t.direction||"left"===t.direction,u={x:`translateX(${l?"110%":"-110%"})`,y:`translateY(${o?"110%":"-110%"})`};function f(){i.removeEventListener("touchmove",g),i.removeEventListener("touchend",y),n.style.transform=c?u.y:u.x,n.style.transition=`transform ${t.closetime}ms`,e.classList.remove("active"),document.body.classList.remove(lfUtils.lightbox_active,lfUtils.photoSwipeClass),setTimeout(()=>{n.style.transform="",n.style.transition="",t.callback(),setTimeout(()=>{e.remove()},500)},t.closetime)}function m(t){t.stopPropagation(),i.addEventListener("touchmove",g,{passive:!0}),i.addEventListener("touchend",y,{passive:!0}),h.x=t.touches[0].clientX,h.y=t.touches[0].clientY,n.style.transition="transform 0ms linear 0ms"}function g(t){t.stopPropagation(),d.x=t.touches[0].clientX-h.x,d.y=t.touches[0].clientY-h.y,c&&o&&d.y<=0||r&&0<=d.y||p&&l&&d.x<=0||a&&0<=d.x||(t=c?`translateY(${d.y}px)`:`translateX(${d.x}px)`,n.style.transform=t)}function y(e){e.stopPropagation(),n.style.transition="",n.style.transform="",(c&&(o&&d.y>=t.treshhold||r&&d.y<=-t.treshhold)||p&&(l&&d.x>=t.treshhold||a&&d.x<=-t.treshhold))&&f(),h={x:0,y:0},d={x:0,y:0}}new ResizeObserver(t=>{t.forEach(t=>{t.contentRect.width<576?i.addEventListener("touchstart",m,{passive:!0}):(i.removeEventListener("touchstart",m),i.removeEventListener("touchmove",g),i.removeEventListener("touchend",y))})}).observe(document.documentElement),document.body.append(e),setTimeout(()=>{document.body.classList.add(lfUtils.lightbox_active),e.classList.add("active"),t.photoSwipe||document.body.classList.add(lfUtils.photoSwipeClass)},t.starttime),e.addEventListener("click",t=>{t.target.classList.contains("lf-lightbox-main")&&f()}),s?.addEventListener("click",t=>{t.preventDefault(),f()})},lightbox_close:function(t={}){lfUtils.selectAll(".lf-lightbox-main").forEach(t=>{const e=t.querySelector(".hotspot-item-detail");if(e){const i=lfUtils.select(`.kt-hotspot-item[data-id="${e.dataset.hotspot}"]`);i&&i.appendChild(t)}t.remove()}),document.body.classList.remove(lfUtils.lightbox_active,lfUtils.photoSwipeClass)},applyFilter:function(t,e){const i=e.getAttribute("href").slice(1),s=JSON.parse(e.querySelector(".lf-filter__datas")?.innerHTML||"[]"),n=t.querySelectorAll(".lf-image-item");n.forEach(t=>t.classList.remove("lfHidden")),"all"!==i&&n.forEach(t=>{s.some(e=>t.classList.contains(`filter-${e}`))||t.classList.add("lfHidden")}),t.dispatchEvent(new CustomEvent("lookfyGalleryFilterApplied"))},filter_link:(t,e=!1)=>`<li>\n          <a class="kt-button ${e?"lf-active":""} " href="#${t?.key||"all"}">\n            <span class="lf-filter__title">${t?.title||lfUtils.getCurrentLange("all")}</span>\n            <span class="lf-filter__count">${t?.images?.length||0}</span>\n            <span class="lf-filter__datas lfHidden">${JSON.stringify(t?.images||[])}</span>\n          </a>\n        </li>`,tooltip:function(t,e={}){e={content:".hotspot-item-detail",placement:"auto",size:"adapt",space:10,spacing:"collapse",style:"vertical",theme:"light",section:"",draw:!1,...e};var i,s,n,o,{placement:r,size:l,spacing:a,style:d,theme:h}=e,c=t.querySelector(e.content);const p=t.closest(".kt-hotspots-wrapper");e.draw&&(n=p.querySelector(`.kt-hotspot-item[data-id="${t.dataset.id}"]`),c=n.querySelector(e.content));const u=t.closest(".lookfy-gallery"),f=u?u.dataset.section:e.section;function m(e){t.classList.add("active"),"auto"==r&&(r=lfUtils.render_placement(t.getAttribute("data-left"),t.getAttribute("data-top"))),o="kttooltip__"+t.getAttribute("data-id")+"__"+Date.now()+Math.floor(100*Math.random()),s=lfUtils.createDomEl("div",`kt-tooltip placement-${r} kt-tooltip-${l} kt-tooltip-${a}  kt-tooltip-${d}`,"",{id:o,"data-id":t.getAttribute("data-id")}),"adapt"!==l&&"none"!==l&&(s.classList.add("kt-ratio"),s.style.setProperty("--ratio-percent",lfUtils.render_ratio(l)));var n="#FFFFFF",p="#000000";"dark"==h&&(n="#000000",p="#FFFFFF"),s.style.setProperty("--tooltip-background",n),s.style.setProperty("--tooltip-color",p);const u=lfUtils.createDomEl("div","kt-tooltip-inner");u.appendChild(c),s.appendChild(u),window.lfTooltipParent?window.lfTooltipParent.appendChild(s):document.body.appendChild(s),s.addEventListener("mouseover",function(t){clearTimeout(i)}),s.addEventListener("mouseout",t=>{i=setTimeout(()=>{y()},300)}),lfUtils.documentEvent("lfTooltipOpen",{tooltipElement:t,element:s})}function g(i){var n=i.currentTarget.getBoundingClientRect(),o=document.body,l=document.documentElement,a=window.pageYOffset||l.scrollTop||o.scrollTop,d=window.pageXOffset||l.scrollLeft||o.scrollLeft,h=0,c=0;h="left"==r?d+n.left-s.offsetWidth-e.space:"right"==r?d+n.left+n.width+e.space:d+n.left-s.offsetWidth/2+n.width/2;const p=s.getBoundingClientRect().width;h<0?h=0:h+p>o.clientWidth&&(h=o.clientWidth-p-10),c="top"==r?a+n.top-e.space-s.offsetHeight:"bottom"==r?a+n.top+n.height+e.space:a+n.top-s.offsetHeight/2+n.height/2,s.style.left=h+"px",s.style.top=c+"px",lfUtils.documentEvent("lfTooltipPosition",{tooltipElement:t,element:s,leftPo:h,topPo:c,coords:n})}function y(){t&&(t.classList.remove("active"),s?.parentNode&&s.parentNode.removeChild(s),c&&(e.draw&&n?n.appendChild(c):t.appendChild(c)),lfUtils.documentEvent("lfTooltipClose",{tooltipElement:t,element:s,content:c}))}t.addEventListener("touchend",e=>{if(e.preventDefault(),"bottom"==window.lfTooltipPosition&&this.mobileCheck()){e.target.closest(".kt-hotspot-item");this.lightbox({classes:`shopify-section-${f}`,content:c,callback:()=>{t.appendChild(c)}})}else t.classList.contains("active")?y():(m(e),g(e))}),t.addEventListener("mouseover",e=>{e.preventDefault(),"bottom"==window.lfTooltipPosition&&this.mobileCheck()||(i&&clearTimeout(i),t.classList.contains("active")||(m(e),g(e)),s&&s.addEventListener("mouseover",t=>{t.preventDefault(),clearTimeout(i)}))}),t.addEventListener("mouseout",t=>{t.preventDefault(),"bottom"==window.lfTooltipPosition&&this.mobileCheck()||(i=setTimeout(()=>{y()},300))})},hotspotsWrapper:(t,e={})=>{e={element:".kt-hotspots-wrapper",inner:".kt-image-item-box",...e};const i=t.querySelector(e.element),s=t.querySelector(e.inner);if(i&&s&&s.classList.contains("kt-ratio")){let t;n(),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(n,200)})}function n(){imagesLoaded(i,()=>{const t=s||i,e=t.clientWidth,n=t.clientHeight,o=Number(i.getAttribute("data-width"))/Number(i.getAttribute("data-height")),r=e/n;let l="100%",a="100%";o<=1&&r>=1||o<r&&r<1?a=e/o+"px":l=n*o+"px",i.style.width=l,i.style.height=a,lfUtils.documentEvent("lfHotspotCalc",{element:t,newWidth:l,newHeight:a})})}},renderProductCard:(t,e)=>{const i=e.variants?.find(t=>t.available),s=i?lfUtils.render_price(i,lfShop.setup.price):"",n=e.featured_image||e.url||lfUtils.ktPlaceholder;t.innerHTML=`\n            <div class="hotspot-product__inner ${e.variants?"lf-active":""}" data-id="${e.id}">\n                <div class="hotspot-product__image">\n                    <img src="${lfUtils.flGetSizedImageUrl(n,"70x")}" width="70" height="70" alt="${e.title}">\n                </div>\n                <div class="hotspot-product__content">\n                    <div class="hotspot-product__title">\n                        <a href="${lfUtils.getLinkLang(e.handle)}">${e.title}</a>\n                    </div>\n                    <div class="hotspot-product__prices">${s}</div>\n                </div>\n            </div>\n        `,t.classList.add("lf-active")},renderProductCards:(t,e)=>{const i=e.featured_image||e.url||lfUtils.ktPlaceholder,s=lfUtils.createDomEl("div","hotspot-product-inline lf-active",`<a href="${lfUtils.getLinkLang(e.handle)}" title="${e.title}"><img src="${lfUtils.flGetSizedImageUrl(i,"70x")}" width="70" height="70" alt="${e.title}"></a>`,{"data-id":e.id});t.appendChild(s)},popover:function(t,e={}){e={button:".kt-choose-options",content:".kt-select-options",space:10,classes:"",preferredPosition:"mostSpace",appendTo:"body",...e};const i=t.querySelector(e.button),s=t.querySelector(e.content);var n;function o(){var t=i.getBoundingClientRect(),s=0,o=0;const r=t.height,l=n.offsetHeight,a=t.top,d=window.innerHeight-t.bottom;if("after"===e.appendTo)switch(e.preferredPosition){case"above":n.classList.add("popover-above");break;case"mostSpace":a>d?n.classList.add("popover-above"):n.classList.add("popover-below");break;case"cover":n.classList.add("popover-cover");break;default:n.classList.add("popover-below")}else{switch(e.preferredPosition){case"above":o=t.top+window.pageYOffset-l-e.space;break;case"mostSpace":o=a>d?t.top+window.pageYOffset-l-e.space:t.top+window.pageYOffset+r+e.space;break;case"cover":o=t.top+window.pageYOffset;break;default:o=t.top+window.pageYOffset+r+e.space}(s=window.pageXOffset+t.left-n.offsetWidth/2+t.width/2)<0?s=0:s+n.offsetWidth>window.innerWidth&&(s=window.innerWidth-n.offsetWidth),n.style.left=s+"px",n.style.top=o+"px"}}function r(){t.appendChild(s),n.remove(),i.classList.remove("active"),window.removeEventListener("scroll",l)}function l(){o()}i.addEventListener("click",function(t){t.preventDefault(),i.classList.contains("active")?r():(!function(){i.classList.add("active"),(n=lfUtils.createDomEl("div",`lfPopover ${e.classes}`)).appendChild(s),"after"===e.appendTo?i.parentNode.insertBefore(n,i.nextSibling):document.body.appendChild(n);window.addEventListener("scroll",l)}(),o())}),document.addEventListener("click",function(t){(function(t){for(var e=t.target;e;){if(e===s||e===i)return!0;e=e.parentNode}return!1})(t)||i.classList.contains("active")&&r()})},truncatewords:function(t,e){return t.split(" ").splice(0,e).join(" ")},replace_desc:function(t,e){e||(e="");var i=t.match(/{{desc:(chars|words):(\d+)}}/g);return i&&i.length&&i.map(i=>{const s=i.split("{{desc:")[1].split(":"),n=s[0],o=parseInt(s[1]);if("chars"==n){const i=`{{desc:chars:${o}}}`;(r=e.slice(0,o))&&(r+="..."),t=t.replace(i,r)}else{const i=`{{desc:words:${o}}}`;var r;(r=this.truncatewords(e,o))&&(r+="..."),t=t.replace(i,r)}}),t},isMultiLang:function(){return window.lfLanguages&&window.lfLanguages.length?1!=window.lfLanguages.length:document.querySelector("link[hreflang]")},getCurrentLange:function(t,e){const i={add_to_cart_select:"Select {attribute_label}",add_all_to_cart:"Add All to Cart",add_to_cart:"Add to Cart",choose_options:"Choose Options",shop_now:"Shop Now",sold_out:"Sold Out",load_more:"Load More",badge_discount:"Off",sale:"Sale",all:"All",description:"Description",in_this_photo:"In this Media",shop_the_look:"Shop the Look",view_full_details:"View Full Details"};var s=window.lfShopLang&&t in window.lfShopLang?window.lfShopLang[t]:i[t];return e||(e=window.lfIsoCode),e&&window.lfShopTrans&&window.lfShopTrans[e]&&window.lfShopTrans[e][t]&&""!=window.lfShopTrans[e][t]&&(s=window.lfShopTrans[e][t]),s||(s=i[t]),s},isMainLang:()=>2===Shopify.routes.root.split("/").length,getLinkLang:function(t,e="products"){if(t=`${e}/${t}`,Shopify.routes&&Shopify.routes.root)t=`${Shopify.routes.root}${t}`;else if(this.isMultiLang()&&lfLanguages){const e=lfLanguages.find(t=>t.shop_locale.locale===this.lfLocale);e&&!e.shop_locale.primary&&(t=`${t}`)}return t},add_custom_css:function(t){if(t&&t.length){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}},add_custom_js:function(t){if(t.length){var e=document.createElement("script");e.type="text/javascript",e.innerHTML=t,document.head.appendChild(e)}},lookfy_responsive:function(t){let e="";if(window.screen.width>992){const i=t.offsetWidth;i<768?e="lookfy-mobile":i<992?e="lookfy-large":i>1050&&(e="lookfy-xlarge")}return e},lfThemeDetector:function(){const t=function(){return window.BOOMR&&window.BOOMR.themeId&&window.BOOMR.themeName&&window.BOOMR.themeVersion},e={themeName:t()?window.BOOMR.themeName:window.Shopify&&window.Shopify.theme&&window.Shopify.theme.id&&window.Shopify.theme.name?window.Shopify.theme.schema_name||window.Shopify.theme.name:"Unknown",themeVersion:t()?window.BOOMR.themeVersion:window.Shopify?.theme?.schema_version||"0.0.0"},i=e.themeName.toLowerCase();return["crave","sense","craft","taste","studio","trade","ride","colorblock","refresh","publisher","spotlight","generated data theme","theme fullstack","madrid"].includes(i)?e.themeName="dawn":["savor","vessel","atelier","heritage"].includes(i)?e.themeName="horizon":["megamog","minimog - os 2.0","minimog - 0s 2.0"].includes(i)?e.themeName="minimog":"palo alto"===i?e.themeName="paloalto":["kalles","unsen","gecko"].includes(i)?e.themeName="the4":["sleek","hyper"].includes(i)?e.themeName="sleek":e.themeName=i.replace(/\s/g,""),window.lfThemeName&&(e.themeName=window.lfThemeName),e},render_icon:(t,e=1)=>({plus:'<svg viewBox="0 0 20 20" width="15px" height="15px" focusable="false" aria-hidden="true"><path d="M10 4a1 1 0 0 0-1 1v4h-4a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4v-4a1 1 0 0 0-1-1Z"></path></svg>',store:'<svg viewBox="0 0 20 20" width="15px" height="15px" focusable="false" aria-hidden="true"><path d="m2.554 3.128-.542 3.224a.893.893 0 0 0 .513.964c.12.055.25.084.382.084h.81a1.369 1.369 0 0 0 1.217-.747l.53-1.053.531 1.053a1.354 1.354 0 0 0 1.218.747h1.04a1.369 1.369 0 0 0 1.216-.747l.531-1.053.53 1.053a1.355 1.355 0 0 0 1.218.747h1.04a1.369 1.369 0 0 0 1.217-.747l.53-1.053.531 1.053a1.354 1.354 0 0 0 1.217.747h.81a.913.913 0 0 0 .692-.318.898.898 0 0 0 .203-.73l-.542-3.224a1.347 1.347 0 0 0-.463-.808 1.367 1.367 0 0 0-.88-.32h-12.207c-.322 0-.633.113-.88.32-.245.206-.41.492-.462.808Z"></path><path d="M17 16.65v-7.65h-14v7.65c0 .358.141.701.393.955.252.253.594.395.95.395h2.673v-6h5.968v6h2.673c.356 0 .698-.142.95-.395.252-.254.393-.597.393-.955Z"></path></svg>',tag:'<svg viewBox="0 0 20 20" width="15px" height="15px" focusable="false" aria-hidden="true"><path d="M10.408 3h5.592a1 1 0 0 1 1 1v5.592a2 2 0 0 1-.57 1.399l-5.162 5.277a2.5 2.5 0 0 1-3.536 0l-4-4a2.5 2.5 0 0 1 0-3.536l.008-.008 5.27-5.154a2 2 0 0 1 1.397-.57Zm3.092 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg>',number:`<span class="hotspot-number">${e}</span>`,none:""}[t]),render_ratio:t=>({landscape:"75%",portrait:"125%"}[t]||"100%"),flGetSizedImageUrl:function(t,e){if(null===e||null===t||""==t||void 0===t)return t;var i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif|webp)(\?v=\d+)?$/i);if(null!==i){var s=t.split(i[0]),n=i[0];return s[0]+"_"+e+n}return t},render_carousel:function(t){const e={"--pn-color":"light"===t.pnTheme?"#000":"#FFF","--pn-background":"light"===t.pnTheme?"#FFF":"#000"};return"icon"===t.pnStyle&&(e["--pn-background"]="transparent",e["--pn-color"]="light"===t.pnTheme?"#FFF":"#000"),"circle"===t.pnStyle?e["--pn-radius"]="50%":"round"===t.pnStyle?e["--pn-radius"]="3px":e["--pn-radius"]="0px",e["--dot-color"]="dark"===t.dotsTheme?"#FFF":"#000",e["--dot-background"]="dark"===t.dotsTheme?"#000":"#FFF",e["--dot-radius"]="dot"===t.dotStyle?"50%":"0px",e["--dots-spacing"]="outside"===t.dotsPos?"25px":"0px",e},get_carousel:function(t,e,i){const s={...t,cellAlign:"left",wrapAround:!0,pageDots:!0};return s.autoplay&&(s.autoPlay=s.speed,delete s.autoplay),e>=4?i/e>=3?s.groupCells=!0:i>6&&(s.groupCells=2):3==e&&i/e>3&&(s.groupCells=!0),lfUtils.mobileCheck()&&s.groupCells&&(s.groupCells="100%"),s},cart_formData:function(t,e=null){var i=null;if("dawn"==t&&e)i=e.getSectionsToRender().map(t=>t.id);else if("the4"==t)i="cart_data,mini_cart";else if("minimog"==t)i="cart-drawer";else if("xtra"==t)i="side-cart";else if("impact"==t){const t=document.getElementById("cart-drawer"),e=t?.closest(".shopify-section")?.id?.replace("shopify-section-","");i=e?`variant-added,${e}`:""}else"woodstock"==t?i=document.querySelector("cart-drawer")?.getSectionsToRender().map(t=>t.id).join(","):"symmetry"==t?i=["page-header","cart-drawer"].map(t=>lfUtils.select(t)).filter(t=>t).map(t=>t.dataset.sectionId).join(","):"hongo"==t&&e?i=e.getSectionsToRender().map(t=>t.id).join(","):"focal"==t?i="mini-cart":"sahara"==t?i=sectionsToRender.map(t=>t.section):"horizon"==t?i=[...document.querySelectorAll("cart-items-component")].map(t=>t.dataset.sectionId).filter(Boolean).join(","):"concept"==t||"sleek"==t?i=lfUtils.select("cart-drawer").dataset.sectionId:"beyours"==t?i="mini-cart,cart-icon-bubble,mobile-cart-icon-bubble":window.lfFormData&&(i=window.lfFormData);return i},render_space:function(t){return{collapse:[0,0],xsmall:[2,4],small:[4,8],large:[12,24],xlarge:[20,40],"2xlarge":[30,60]}[t]||[8,16]},render_badges:function(t){let e="";return 0==t.available?e='<span class="lf_badge lf_badge--sold_out">{{sold_out}}</span>':t.compare_at_price>t.price&&t.available&&(e='<span class="lf_badge lf_badge--sale">{{sale}}</span>'),e&&(e=`<div class="lf_product_badge">${e}</div>`),e},render_price:function(t,e,i=!0){if(!t)return;var n=t;i&&t.variants&&t.variants.length>0&&(n=t.variants.find(t=>t.available)||t.variants[0]);const{compare_at_price:o=0,price:r=0,available:l=!1}=n,a=s(r),d=["lf-price"];l||d.push("lf-price--sold-out"),("compare_badge"===e||"compare"===e)&&o>r&&(d.push("lf-price--on-sale"),"compare_badge"===e&&d.push("lf-price--show-badge"));var h=`<div class="${d.join(" ")}"><div class="lf-price__container">`;if(h+=`<div class="lf-price__regular"><span class="lf-price-item lf-price-item--regular"> ${a} </span></div>`,("compare_badge"==e||"compare"==e)&&o>r&&(h+=`<div class="lf-price__sale">\n          <span><s class="lf-price-item lf-price-item--regular"> ${s(o)} </s></span>\n          <span class="lf-price-item lf-price-item--sale lf-price-item--last"> ${a} </span>\n        </div>`),"compare_badge"==e&&o){const t=Math.round((o-r)/o*100);t>0&&(h+=`<span class='lf-price-item--badge'>${t}%</span>`)}return h+="</div></div>"},render_header:function(t,e){const i=lfUtils.createDomEl("div","kt__header"),s=lfUtils.createDomEl("h2","kt__title",`<span>${e.title}</span>`);if(i.appendChild(s),2==t&&e.body){const t=lfUtils.createDomEl("p","kt__subtitle",e.body);i.appendChild(t)}return i},lfLayout:t=>({l_column:lfUtils.lfLayoutColumn(t),l_embedded:"default_embedded"===t,l_multi:"multiple_columns"===t,l_carousel:lfUtils.lfLayoutCarousel(t),l_spacing:lfUtils.lfLayoutSpacing(t)}),lfLayoutColumn:t=>["default_embedded","default_column","multiple_columns","column_carousel"].includes(t),lfLayoutSpacing:t=>["masonry","grid","row","list","carousel","multiple_columns","column_carousel"].includes(t),lfLayoutMasonry:t=>["masonry","grid"].includes(t),lfLayoutCarousel:t=>["carousel","column_carousel","multiple_columns"].includes(t),render_placement:(t,e)=>e<33.33?t<40?"right":t>80?"left":"bottom":e>66.66?t<40?"right":t>80?"left":"top":"top",stripHtml:function(t){let e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},render_layer:function(t,e){e.desc=this.stripHtml(e.desc),t=t.replaceAll("##link##",e.link?`<a href="${e.link}" class="layerContentLink link-url">`:"").replaceAll("##endlink##",e.link?"</a>":"").replaceAll("##lightbox##",'<a href="#" class="layerContentLink link-lightbox">').replaceAll("##endlightbox##","</a>");const i={"{{desc}}":e.desc,"{{title}}":e.text,"{{link}}":e.link,"{{alt}}":e.alt,"{{position}}":e.position,"{{products_count}}":e.products_count,"{{price}}":e.price,"{{tags}}":e.tags,"{{vendor}}":e.vendor,"{{badges}}":e.badges,"{{hotspots_count}}":e.hotspots_count,"{{sale}}":this.getCurrentLange("sale"),"{{sold_out}}":this.getCurrentLange("sold_out"),"{{product_card}}":'<div class="hotspot-product-card"></div>',"{{product_cards}}":'<div class="hotspot-product-cards"></div>'};return Object.entries(i).forEach(([e,i])=>{t=t.replaceAll(e,i||"")}),t=this.replace_desc(t,e.desc)},render_fonts:function(t){t.forEach(t=>{const e=document.head.querySelectorAll("link");if(!Array.from(e).some(e=>e.href===t.link)){const e=document.createElement("link");e.href=t.link,e.rel="stylesheet",document.head.appendChild(e)}})},get:function(t,e=()=>{},i=()=>{},s=()=>{}){fetch(t).then(t=>{e&&e(t)}).catch(t=>{i&&i(t)}).finally(()=>{s&&s()})},getJson:function(t,e=()=>{},i=()=>{},s=()=>{}){fetch(t).then(t=>t.json()).then(t=>{e&&e(t)}).catch(t=>{i&&i(t)}).finally(()=>{s&&s()})},postJson:function(t,e,i=()=>{},s=()=>{},n=()=>{}){fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/javascript"},body:JSON.stringify(e)}).then(t=>t.json()).then(t=>{i&&i(t)}).catch(t=>{s&&s(t)}).finally(()=>{n&&n()})},render_product_lightbox:(t,e,i,s={})=>{s={...{variants:'<div class="lf-lightbox-product-variants"></div>',form:'<div class="lf-lightbox-product-form"></div>',body:`<div class="lf-lightbox-product-body">\n          <div class="lf-lightbox-product-image" data-width="100"><img data-imgs="140" src="${lfUtils.ktPlaceholder}" alt="" data-img="${lfUtils.ktPlaceholder}"/></div>\n          <div class="lf-lightbox-product-info">\n            <h4  class="lf-lightbox-product-title"></h4>\n            <div class="lf-lightbox-product-prices"></div>\n          </div>\n        </div>`,accordions:`<div class="lf-lightbox-accordions">\n          <div class="lf-lightbox-accordion lf-lightbox-accordion-desc">\n            <input type="checkbox" checked="" class="lf-lightbox-accordion-checkbox"/>\n            <label class="lf-lightbox-accordion-header">\n              <span class="lf-lightbox-accordion__text">${lfUtils.getCurrentLange("description")}</span>\n              <span class="lf-lightbox-accordion__icon"></span>\n            </label>\n            <div class="lf-lightbox-accordion__content">\n              <div class="lf-lightbox-accordion-body lf-lightbox-product-desc"></div>\n            </div>\n          </div>\n        </div>`},...s};const n=lfUtils.createDomEl("div","product-lightbox-content",`<div class="lf-lightbox-product-details"><div class="lf-lightbox-product-infos"> ${s.body} ${s.form} ${s.accordions}</div></div>`,{"data-id":t}),o=window.lfProducts[t],r=lfProductOptions[t],l=n.querySelector(".lf-lightbox-product-title"),a=n.querySelector(".lf-lightbox-product-image"),d=n.querySelector(".lf-lightbox-product-prices"),h=(n.querySelector(".lf-lightbox-product-review"),n.querySelector(".lf-lightbox-product-desc")),c=a.querySelector("img");if(c.setAttribute("src",lfUtils.flGetSizedImageUrl(o.featured_image,a.dataset.width+"x")),c.dataset.img=o.featured_image,l.innerHTML=o.title,h&&(o.description?h.innerHTML=o.description:h.closest(".lf-lightbox-accordion-desc")?.remove()),o.variants?.length>0&&d){const t=o.variants.find(t=>t.available)||o;d.innerHTML=lfUtils.render_price(t)}const p=n.querySelector(".lf-lightbox-product-form");return p.classList.add(`lf-popup-${i.popup}`),lfUtils.render_productForm(e,i,o,r,p),n.querySelectorAll(".lf-lightbox-accordions .lf-lightbox-accordion-checkbox").forEach(t=>{const e=lfMakeID();t.id=e,t.nextElementSibling.htmlFor=e}),n},render_productForm:(t,e,i,s,n,o=null,r="")=>{o||(o=lfMakeID());var l="simple",a="",d="";n.dataset.section=o,d='<input type="hidden" name="form_type" value="product"/><input type="hidden" name="utf8" value=""/>',i.variants.length>1&&(l="variable"),0==i.available?a+=`<button type="button" name="add" class="${lfUtils.productClass} disabled">${lfUtils.getCurrentLange("sold_out")}</button>`:a+=`<button type="button" name="add" class="kt-button-addtocart ${lfUtils.productClass}" data-product="${l}"><span>${lfUtils.getCurrentLange("add_to_cart")}</span>${lfUtils.loading}</button>`,a+=`<a href="${lfUtils.getLinkLang(i.handle)}" class="product__full-details lf-product-link">${lfUtils.getCurrentLange("view_full_details")}</a>`;var h="";if(i.available){var c=s||i.options,p=i.variants.find(t=>t.available),u=`<input type="hidden" name="id" value="${p.id}">`;if(i.variants.length>1)if("dropdown"==e.setup.variant){var f=[];const t=1==c.length?lfUtils.getCurrentLange("add_to_cart_select").replace("{attribute_label}",c[0].name):lfUtils.getCurrentLange("choose_options");f.push({id:"",option:t,disabled:!0}),i.variants.map((t,e)=>{f.push({id:t.id,option:t.options.join(" / "),disabled:!t.available})});const e=f.map((t,e)=>{const i=t.disabled?"disabled":"",s=p.id==t.id?"selected":"";return`<option value="${t.id}" ${i} ${s}>${t.option}</option>`});d+=`<div class="kt-choose-item" data-product="${i.id}" data-section="${o}"><select name="id" class="kt-choose-select">${e.join("")}</select></div>`}else{h="";c.map((t,e)=>{var i=`<legend class="lf-form__label">${t.name}</legend>`;const s=`template--${o}${r}-${t.position}`;t.values.map((t,e)=>{i+=`<input type="radio" class="variant-radio lfHidden" id="${s}-${e}" name="${s}" value="${t}"><label class="variant-radio-label" for="${s}-${e}">${t}</label>`}),h+=`<fieldset class="kt-product-form__input">${i}</fieldset>`}),d+=h+u}else d+=u}const m=`<div class="lfProduct__error-message-wrapper lfHidden">${lfUtils.errorSvg}</div>`;n.innerHTML=`\n        <div class="lf-addtocart-form">\n          <form data-product="${i.id}" action="/cart/add?lookfy-cart-call" method="POST" data-type="${l}">\n            ${d}\n            <div class="lf-product-buttons">${a}</div>\n          </form>\n          ${m}\n        </div>`,setTimeout(()=>{lfUtils.documentEvent("lookfyProductForm",{galleryElement:t,galleryData:e,product:i,sectionID:o,productForm:n})},200)}};function isLfVideoContent(t){return t&&t.data&&"hotspots"===t.data.type&&"video"===t.data.media}function isLfHotspotContent(t){return t&&t.data&&"hotspots"===t.data.type}document.addEventListener("touchstart",t=>{if(!document.getElementsByTagName("body")[0].classList.contains("lf-disable-tooltip")){const e=t.target.closest(".kt-tooltip"),i=lfUtils.select(".kt-tooltip");if(!e&&i){const t=i.getAttribute("id").split("__")[1];if(t){const e=lfUtils.select("[data-id="+t+"]");if(e){const t=i.querySelector(".hotspot-item-detail");e.appendChild(t),e.classList.remove("active"),i&&i.parentNode.removeChild(i)}}}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LfPhotoSwipe=e()}(this,function(){"use strict";function t(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function e(t,e){return t.x=e.x,t.y=e.y,void 0!==e.id&&(t.id=e.id),t}function i(t){t.x=Math.round(t.x),t.y=Math.round(t.y)}function s(t,e){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function n(t,e){return t.x===e.x&&t.y===e.y}function o(t,e,i){return Math.min(Math.max(t,e),i)}function r(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;return void 0!==i&&(s+=` scale3d(${i},${i},1)`),s}function l(t,e,i,s){t.style.transform=r(e,i,s)}function a(t,e,i,s){t.style.transition=e?`${e} ${i}ms ${s||"cubic-bezier(.4,0,.22,1)"}`:"none"}function d(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const h="loading",c="loaded",p="error";function u(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}let f=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{f=!0}}))}catch(t){}class m{constructor(){this.t=[]}add(t,e,i,s){this.i(t,e,i,s)}remove(t,e,i,s){this.i(t,e,i,s,!0)}removeAll(){this.t.forEach(t=>{this.i(t.target,t.type,t.listener,t.passive,!0,!0)}),this.t=[]}i(t,e,i,s,n,o){if(!t)return;const r=n?"removeEventListener":"addEventListener";e.split(" ").forEach(e=>{if(e){o||(n?this.t=this.t.filter(s=>s.type!==e||s.listener!==i||s.target!==t):this.t.push({target:t,type:e,listener:i,passive:s}));const l=!!f&&{passive:s||!1};t[r](e,i,l)}})}}function g(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function y(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(o=e[i])}return Number(o)||0}function v(t,e,i,s){return{x:e.x-y("left",t,e,i,s)-y("right",t,e,i,s),y:e.y-y("top",t,e,i,s)-y("bottom",t,e,i,s)}}class w{constructor(t){this.slide=t,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(t){this.currZoomLevel=t,this.slide.width?(this.o("x"),this.o("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}o(t){const{pswp:e}=this.slide,i=this.slide["x"===t?"width":"height"]*this.currZoomLevel,s=y("x"===t?"left":"top",e.options,e.viewportSize,this.slide.data,this.slide.index),n=this.slide.panAreaSize[t];this.center[t]=Math.round((n-i)/2)+s,this.max[t]=i>n?Math.round(n-i)+s:this.center[t],this.min[t]=i>n?s:this.center[t]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(t,e){return o(e,this.max[t],this.min[t])}}class b{constructor(t,e,i,s){this.pswp=s,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s,this.panAreaSize=i;const n=i.x/s.x,o=i.y/s.y;this.fit=Math.min(1,n<o?n:o),this.fill=Math.min(1,n>o?n:o),this.vFill=Math.min(1,o),this.initial=this.l(),this.secondary=this.u(),this.max=Math.max(this.initial,this.secondary,this.p()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}m(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}u(){let t=this.m("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}l(){return this.m("initial")||this.fit}p(){return this.m("max")||Math.max(1,4*this.fit)}}class S{constructor(e,i,s){this.data=e,this.index=i,this.pswp=s,this.isActive=i===s.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!s.opener.isOpen,this.zoomLevels=new b(s.options,e,i,s),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:i}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=t("pswp_lf__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new w(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(t){t&&!this.isActive?this.activate():!t&&this.isActive&&this.deactivate()}append(t){this.holderElement=t,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:t}=this;!this.heavyAppended&&t.opener.isOpen&&!t.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(t){const e=this.currentResolution||this.zoomLevels.initial;if(!e)return;const i=Math.round(this.width*e)||this.pswp.viewportSize.x,s=Math.round(this.height*e)||this.pswp.viewportSize.y;(this.sizeChanged(i,s)||t)&&this.content.setDisplayedSize(i,s)}sizeChanged(t,e){return(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=t,this.prevDisplayedHeight=e,!0)}getPlaceholderElement(){var t;return null===(t=this.content.placeholder)||void 0===t?void 0:t.element}zoomTo(t,e,s,n){const{pswp:r}=this;if(!this.isZoomable()||r.mainScroll.isShifted())return;r.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:s}),r.animations.stopAllPan();const l=this.currZoomLevel;n||(t=o(t,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(t),this.pan.x=this.calculateZoomToPanOffset("x",e,l),this.pan.y=this.calculateZoomToPanOffset("y",e,l),i(this.pan);const a=()=>{this.v(t),this.applyCurrentZoomPan()};s?r.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:s,easing:r.options.easing}):a()}toggleZoom(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}setZoomLevel(t){this.currZoomLevel=t,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(t,e,i){if(0==this.bounds.max[t]-this.bounds.min[t])return this.bounds.center[t];e||(e=this.pswp.getViewportCenterPoint()),i||(i=this.zoomLevels.initial);const s=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*s+e[t])}panTo(t,e){this.pan.x=this.bounds.correctPan("x",t),this.pan.y=this.bounds.correctPan("y",e),this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this.g(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),e(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}g(t,e,i){i/=this.currentResolution||this.zoomLevels.initial,l(this.container,t,e,i)}calculateSize(){const{pswp:t}=this;e(this.panAreaSize,v(t.options,t.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),t.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return r(this.pan.x,this.pan.y,t)}v(t){t!==this.currentResolution&&(this.currentResolution=t,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}class _{constructor(t){this.gestures=t,this.pswp=t.pswp,this.startPan={x:0,y:0}}start(){this.pswp.currSlide&&e(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:t,prevP1:e,dragAxis:s}=this.gestures,{currSlide:n}=this.pswp;if("y"===s&&this.pswp.options.closeOnVerticalDrag&&n&&n.currZoomLevel<=n.zoomLevels.fit&&!this.gestures.isMultitouch){const i=n.pan.y+(t.y-e.y);if(!this.pswp.dispatch("verticalDrag",{panY:i}).defaultPrevented){this._("y",i,.6);const t=1-Math.abs(this.S(n.pan.y));this.pswp.applyBgOpacity(t),n.applyCurrentZoomPan()}}else this.M("x")||(this.M("y"),n&&(i(n.pan),n.applyCurrentZoomPan()))}end(){const{velocity:t}=this.gestures,{mainScroll:e,currSlide:i}=this.pswp;let s=0;if(this.pswp.animations.stopAll(),e.isShifted()){const i=(e.x-e.getCurrSlideX())/this.pswp.viewportSize.x;t.x<-.5&&i<0||t.x<.1&&i<-.5?(s=1,t.x=Math.min(t.x,0)):(t.x>.5&&i>0||t.x>-.1&&i>.5)&&(s=-1,t.x=Math.max(t.x,0)),e.moveIndexBy(s,!0,t.x)}i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this.P("x"),this.P("y"))}P(t){const{velocity:e}=this.gestures,{currSlide:i}=this.pswp;if(!i)return;const{pan:s,bounds:n}=i,r=s[t],l=this.pswp.bgOpacity<1&&"y"===t,a=r+function(t){return.995*t/(1-.995)}(e[t]);if(l){const t=this.S(r),e=this.S(a);if(t<0&&e<-.4||t>0&&e>.4)return void this.pswp.close()}const d=n.correctPan(t,a);if(r===d)return;const h=d===a?1:.82,c=this.pswp.bgOpacity,p=d-r;this.pswp.animations.startSpring({name:"panGesture"+t,isPan:!0,start:r,end:d,velocity:e[t],dampingRatio:h,onUpdate:e=>{if(l&&this.pswp.bgOpacity<1){const t=1-(d-e)/p;this.pswp.applyBgOpacity(o(c+(1-c)*t,0,1))}s[t]=Math.floor(e),i.applyCurrentZoomPan()}})}M(t){const{p1:e,dragAxis:i,prevP1:s,isMultitouch:n}=this.gestures,{currSlide:o,mainScroll:r}=this.pswp,l=e[t]-s[t],a=r.x+l;if(!l||!o)return!1;if("x"===t&&!o.isPannable()&&!n)return r.moveTo(a,!0),!0;const{bounds:d}=o,h=o.pan[t]+l;if(this.pswp.options.allowPanToNext&&"x"===i&&"x"===t&&!n){const e=r.getCurrSlideX(),i=r.x-e,s=l>0,n=!s;if(h>d.min[t]&&s){if(d.min[t]<=this.startPan[t])return r.moveTo(a,!0),!0;this._(t,h)}else if(h<d.max[t]&&n){if(this.startPan[t]<=d.max[t])return r.moveTo(a,!0),!0;this._(t,h)}else if(0!==i){if(i>0)return r.moveTo(Math.max(a,e),!0),!0;if(i<0)return r.moveTo(Math.min(a,e),!0),!0}else this._(t,h)}else"y"===t&&(r.isShifted()||d.min.y===d.max.y)||this._(t,h);return!1}S(t){var e,i;return(t-(null!==(e=null===(i=this.pswp.currSlide)||void 0===i?void 0:i.bounds.center.y)&&void 0!==e?e:0))/(this.pswp.viewportSize.y/3)}_(t,e,i){const{currSlide:s}=this.pswp;if(!s)return;const{pan:n,bounds:o}=s;if(o.correctPan(t,e)!==e||i){const s=Math.round(e-n[t]);n[t]+=s*(i||.35)}else n[t]=e}}function E(t,e,i){return t.x=(e.x+i.x)/2,t.y=(e.y+i.y)/2,t}class C{constructor(t){this.gestures=t,this.C={x:0,y:0},this.T={x:0,y:0},this.A={x:0,y:0},this.D=!1,this.I=1}start(){const{currSlide:t}=this.gestures.pswp;t&&(this.I=t.currZoomLevel,e(this.C,t.pan)),this.gestures.pswp.animations.stopAllPan(),this.D=!1}change(){const{p1:t,startP1:e,p2:i,startP2:n,pswp:o}=this.gestures,{currSlide:r}=o;if(!r)return;const l=r.zoomLevels.min,a=r.zoomLevels.max;if(!r.isZoomable()||o.mainScroll.isShifted())return;E(this.T,e,n),E(this.A,t,i);let d=1/s(e,n)*s(t,i)*this.I;if(d>r.zoomLevels.initial+r.zoomLevels.initial/15&&(this.D=!0),d<l)if(o.options.pinchToClose&&!this.D&&this.I<=r.zoomLevels.initial){const t=1-(l-d)/(l/1.2);o.dispatch("pinchClose",{bgOpacity:t}).defaultPrevented||o.applyBgOpacity(t)}else d=l-.15*(l-d);else d>a&&(d=a+.05*(d-a));r.pan.x=this.L("x",d),r.pan.y=this.L("y",d),r.setZoomLevel(d),r.applyCurrentZoomPan()}end(){const{pswp:t}=this.gestures,{currSlide:e}=t;(!e||e.currZoomLevel<e.zoomLevels.initial)&&!this.D&&t.options.pinchToClose?t.close():this.correctZoomPan()}L(t,e){const i=e/this.I;return this.A[t]-(this.T[t]-this.C[t])*i}correctZoomPan(t){const{pswp:i}=this.gestures,{currSlide:s}=i;if(null==s||!s.isZoomable())return;0===this.A.x&&(t=!0);const r=s.currZoomLevel;let l,a=!0;r<s.zoomLevels.initial?l=s.zoomLevels.initial:r>s.zoomLevels.max?l=s.zoomLevels.max:(a=!1,l=r);const d=i.bgOpacity,h=i.bgOpacity<1,c=e({x:0,y:0},s.pan);let p=e({x:0,y:0},c);t&&(this.A.x=0,this.A.y=0,this.T.x=0,this.T.y=0,this.I=r,e(this.C,c)),a&&(p={x:this.L("x",l),y:this.L("y",l)}),s.setZoomLevel(l),p={x:s.bounds.correctPan("x",p.x),y:s.bounds.correctPan("y",p.y)},s.setZoomLevel(r);const u=!n(p,c);if(!u&&!a&&!h)return s.v(l),void s.applyCurrentZoomPan();i.animations.stopAllPan(),i.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:t=>{if(t/=1e3,u||a){if(u&&(s.pan.x=c.x+(p.x-c.x)*t,s.pan.y=c.y+(p.y-c.y)*t),a){const e=r+(l-r)*t;s.setZoomLevel(e)}s.applyCurrentZoomPan()}h&&i.bgOpacity<1&&i.applyBgOpacity(o(d+(1-d)*t,0,1))},onComplete:()=>{s.v(l),s.applyCurrentZoomPan()}})}}function x(t){return!!t.target.closest(".pswp_lf__container")}class k{constructor(t){this.gestures=t}click(t,e){const i=e.target.classList,s=i.contains("pswp_lf__img"),n=i.contains("pswp_lf__item")||i.contains("pswp_lf__zoom-wrap");s?this.k("imageClick",t,e):n&&this.k("bgClick",t,e)}tap(t,e){x(e)&&this.k("tap",t,e)}doubleTap(t,e){x(e)&&this.k("doubleTap",t,e)}k(t,e,i){var s;const{pswp:n}=this.gestures,{currSlide:o}=n,r=t+"Action",l=n.options[r];if(!n.dispatch(r,{point:e,originalEvent:i}).defaultPrevented)if("function"!=typeof l)switch(l){case"close":case"next":n[l]();break;case"zoom":null==o||o.toggleZoom(e);break;case"zoom-or-close":null!=o&&o.isZoomable()&&o.zoomLevels.secondary!==o.zoomLevels.initial?o.toggleZoom(e):n.options.clickToCloseNonZoomable&&n.close();break;case"toggle-controls":null===(s=this.gestures.pswp.element)||void 0===s||s.classList.toggle("pswp_lf--ui-visible")}else l.call(n,e,i)}}class L{constructor(t){this.pswp=t,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this.Z={x:0,y:0},this.B={x:0,y:0},this.F=0,this.O=[],this.R="ontouchstart"in window,this.N=!!window.PointerEvent,this.supportsTouch=this.R||this.N&&navigator.maxTouchPoints>1,this.F=0,this.U=0,this.V=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this.G=null,this.supportsTouch||(t.options.allowPanToNext=!1),this.drag=new _(this),this.zoomLevels=new C(this),this.tapHandler=new k(this),t.on("bindEvents",()=>{t.events.add(t.scrollWrap,"click",this.$.bind(this)),this.N?this.q("pointer","down","up","cancel"):this.R?(this.q("touch","start","end","cancel"),t.scrollWrap&&(t.scrollWrap.ontouchmove=()=>{},t.scrollWrap.ontouchend=()=>{})):this.q("mouse","down","up")})}q(t,e,i,s){const{pswp:n}=this,{events:o}=n,r=s?t+s:"";o.add(n.scrollWrap,t+e,this.onPointerDown.bind(this)),o.add(window,t+"move",this.onPointerMove.bind(this)),o.add(window,t+i,this.onPointerUp.bind(this)),r&&o.add(n.scrollWrap,r,this.onPointerUp.bind(this))}onPointerDown(t){const i="mousedown"===t.type||"mouse"===t.pointerType;if(i&&t.button>0)return;const{pswp:s}=this;s.opener.isOpen?s.dispatch("pointerDown",{originalEvent:t}).defaultPrevented||(i&&(s.mouseDetected(),this.H(t,"down")),s.animations.stopAll(),this.K(t,"down"),1===this.F&&(this.dragAxis=null,e(this.startP1,this.p1)),this.F>1?(this.W(),this.isMultitouch=!0):this.isMultitouch=!1):t.preventDefault()}onPointerMove(t){this.H(t,"move"),this.F&&(this.K(t,"move"),this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented||(1!==this.F||this.isDragging?this.F>1&&!this.isZooming&&(this.j(),this.isZooming=!0,this.X(),this.zoomLevels.start(),this.Y(),this.J()):(this.dragAxis||this.tt(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this.W(),this.X(),this.U=Date.now(),this.V=!1,e(this.B,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this.Y(),this.J()))))}j(){this.isDragging&&(this.isDragging=!1,this.V||this.it(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(t){this.F&&(this.K(t,"up"),this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented||(0===this.F&&(this.Y(),this.isDragging?this.j():this.isZooming||this.isMultitouch||this.st(t)),this.F<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this.F&&(this.dragAxis=null,this.X()))))}J(){(this.isDragging||this.isZooming)&&(this.it(),this.isDragging?n(this.p1,this.prevP1)||this.drag.change():n(this.p1,this.prevP1)&&n(this.p2,this.prevP2)||this.zoomLevels.change(),this.ht(),this.raf=requestAnimationFrame(this.J.bind(this)))}it(t){const i=Date.now(),s=i-this.U;s<50&&!t||(this.velocity.x=this.et("x",s),this.velocity.y=this.et("y",s),this.U=i,e(this.B,this.p1),this.V=!0)}st(t){const{mainScroll:i}=this.pswp;if(i.isShifted())return void i.moveIndexBy(0,!0);if(t.type.indexOf("cancel")>0)return;if("mouseup"===t.type||"mouse"===t.pointerType)return void this.tapHandler.click(this.startP1,t);const n=this.pswp.options.doubleTapAction?300:0;this.G?(this.W(),s(this.Z,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,t)):(e(this.Z,this.startP1),this.G=setTimeout(()=>{this.tapHandler.tap(this.startP1,t),this.W()},n))}W(){this.G&&(clearTimeout(this.G),this.G=null)}et(t,e){const i=this.p1[t]-this.B[t];return Math.abs(i)>1&&e>5?i/e:0}Y(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}H(t,e){this.pswp.applyFilters("preventPointerEvent",!0,t,e)&&t.preventDefault()}K(t,i){if(this.N){const s=t,n=this.O.findIndex(t=>t.id===s.pointerId);"up"===i&&n>-1?this.O.splice(n,1):"down"===i&&-1===n?this.O.push(this.nt(s,{x:0,y:0})):n>-1&&this.nt(s,this.O[n]),this.F=this.O.length,this.F>0&&e(this.p1,this.O[0]),this.F>1&&e(this.p2,this.O[1])}else{const e=t;this.F=0,e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(this.nt(e.touches[0],this.p1),this.F++,e.touches.length>1&&(this.nt(e.touches[1],this.p2),this.F++)):(this.nt(t,this.p1),"up"===i?this.F=0:this.F++)}}ht(){e(this.prevP1,this.p1),e(this.prevP2,this.p2)}X(){e(this.startP1,this.p1),e(this.startP2,this.p2),this.ht()}tt(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==t){const e=t>0?"x":"y";Math.abs(this.p1[e]-this.startP1[e])>=10&&(this.dragAxis=e)}}}nt(t,e){return e.x=t.pageX-this.pswp.offset.x,e.y=t.pageY-this.pswp.offset.y,"pointerId"in t?e.id=t.pointerId:void 0!==t.identifier&&(e.id=t.identifier),e}$(t){this.pswp.mainScroll.isShifted()&&(t.preventDefault(),t.stopPropagation())}}class z{constructor(t){this.pswp=t,this.x=0,this.slideWidth=0,this.ot=0,this.rt=0,this.lt=-1,this.itemHolders=[]}resize(t){const{pswp:e}=this,i=Math.round(e.viewportSize.x+e.viewportSize.x*e.options.spacing),s=i!==this.slideWidth;s&&(this.slideWidth=i,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach((e,i)=>{s&&l(e.el,(i+this.lt)*this.slideWidth),t&&e.slide&&e.slide.resize()})}resetPosition(){this.ot=0,this.rt=0,this.slideWidth=0,this.lt=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const i=t("pswp_lf__item","div",this.pswp.container);i.setAttribute("role","group"),i.setAttribute("aria-roledescription","slide"),i.setAttribute("aria-hidden","true"),i.style.display=1===e?"block":"none",this.itemHolders.push({el:i})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(t,e,i){const{pswp:s}=this;let n=s.potentialIndex+t;const o=s.getNumItems();if(s.canLoop()){n=s.getLoopedIndex(n);const e=(t+o)%o;t=e<=o/2?e:e-o}else n<0?n=0:n>=o&&(n=o-1),t=n-s.potentialIndex;s.potentialIndex=n,this.ot-=t,s.animations.stopMainScroll();const r=this.getCurrSlideX();if(e){s.animations.startSpring({isMainScroll:!0,start:this.x,end:r,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:t=>{this.moveTo(t)},onComplete:()=>{this.updateCurrItem(),s.appendHeavy()}});let t=s.potentialIndex-s.currIndex;if(s.canLoop()){const e=(t+o)%o;t=e<=o/2?e:e-o}Math.abs(t)>1&&this.updateCurrItem()}else this.moveTo(r),this.updateCurrItem();return Boolean(t)}getCurrSlideX(){return this.slideWidth*this.ot}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var t;const{pswp:e}=this,i=this.rt-this.ot;if(!i)return;this.rt=this.ot,e.currIndex=e.potentialIndex;let s,n=Math.abs(i);n>=3&&(this.lt+=i+(i>0?-3:3),n=3);for(let t=0;t<n;t++)i>0?(s=this.itemHolders.shift(),s&&(this.itemHolders[2]=s,this.lt++,l(s.el,(this.lt+2)*this.slideWidth),e.setContent(s,e.currIndex-n+t+2))):(s=this.itemHolders.pop(),s&&(this.itemHolders.unshift(s),this.lt--,l(s.el,this.lt*this.slideWidth),e.setContent(s,e.currIndex+n-t-2)));Math.abs(this.lt)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),e.animations.stopAllPan(),this.itemHolders.forEach((t,e)=>{t.slide&&t.slide.setIsActive(1===e)}),e.currSlide=null===(t=this.itemHolders[1])||void 0===t?void 0:t.slide,e.contentLoader.updateLazy(i),e.currSlide&&e.currSlide.applyCurrentZoomPan(),e.dispatch("change")}moveTo(t,e){if(!this.pswp.canLoop()&&e){let e=(this.slideWidth*this.ot-t)/this.slideWidth;e+=this.pswp.currIndex;const i=Math.round(t-this.x);(e<0&&i>0||e>=this.pswp.getNumItems()-1&&i<0)&&(t=this.x+.35*i)}this.x=t,this.pswp.container&&l(this.pswp.container,t),this.pswp.dispatch("moveMainScroll",{x:t,dragging:null!=e&&e})}}const D={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},P=(t,e)=>e?t:D[t];class I{constructor(t){this.pswp=t,this.ct=!1,t.on("bindEvents",()=>{t.options.trapFocus&&(t.options.initialPointerPos||this.dt(),t.events.add(document,"focusin",this.ut.bind(this))),t.events.add(document,"keydown",this.vt.bind(this))});const e=document.activeElement;t.on("destroy",()=>{t.options.returnFocus&&e&&this.ct&&e.focus()})}dt(){!this.ct&&this.pswp.element&&(this.pswp.element.focus(),this.ct=!0)}vt(t){const{pswp:e}=this;if(e.dispatch("keydown",{originalEvent:t}).defaultPrevented)return;if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t))return;let i,s,n=!1;const o="key"in t;switch(o?t.key:t.keyCode){case P("Escape",o):e.options.escKey&&(i="close");break;case P("z",o):i="toggleZoom";break;case P("ArrowLeft",o):s="x";break;case P("ArrowUp",o):s="y";break;case P("ArrowRight",o):s="x",n=!0;break;case P("ArrowDown",o):n=!0,s="y";break;case P("Tab",o):this.dt()}if(s){t.preventDefault();const{currSlide:o}=e;e.options.arrowKeys&&"x"===s&&e.getNumItems()>1?i=n?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[s]+=n?-80:80,o.panTo(o.pan.x,o.pan.y))}i&&(t.preventDefault(),e[i]())}ut(t){const{template:e}=this.pswp;e&&document!==t.target&&e!==t.target&&!e.contains(t.target)&&e.focus()}}const A="cubic-bezier(.4,0,.22,1)";class U{constructor(t){var e;this.props=t;const{target:i,onComplete:s,transform:n,onFinish:o=()=>{},duration:r=333,easing:l=A}=t;this.onFinish=o;const d=n?"transform":"opacity",h=null!==(e=t[d])&&void 0!==e?e:"";this.ft=i,this.wt=s,this.gt=!1,this.yt=this.yt.bind(this),this._t=setTimeout(()=>{a(i,d,r,l),this._t=setTimeout(()=>{i.addEventListener("transitionend",this.yt,!1),i.addEventListener("transitioncancel",this.yt,!1),this._t=setTimeout(()=>{this.xt()},r+500),i.style[d]=h},30)},0)}yt(t){t.target===this.ft&&this.xt()}xt(){this.gt||(this.gt=!0,this.onFinish(),this.wt&&this.wt())}destroy(){this._t&&clearTimeout(this._t),a(this.ft),this.ft.removeEventListener("transitionend",this.yt,!1),this.ft.removeEventListener("transitioncancel",this.yt,!1),this.gt||this.xt()}}class T{constructor(t,e,i){this.velocity=1e3*t,this.bt=e||.75,this.St=i||12,this.zt=this.St,this.bt<1&&(this.zt*=Math.sqrt(1-this.bt*this.bt))}easeFrame(t,e){let i,s=0;e/=1e3;const n=Math.E**(-this.bt*this.St*e);if(1===this.bt)i=this.velocity+this.St*t,s=(t+i*e)*n,this.velocity=s*-this.St+i*n;else if(this.bt<1){i=1/this.zt*(this.bt*this.St*t+this.velocity);const o=Math.cos(this.zt*e),r=Math.sin(this.zt*e);s=n*(t*o+i*r),this.velocity=s*-this.St*this.bt+n*(-this.zt*t*r+this.zt*i*o)}return s}}class M{constructor(t){this.props=t,this.Mt=0;const{start:e,end:i,velocity:s,onUpdate:n,onComplete:o,onFinish:r=()=>{},dampingRatio:l,naturalFrequency:a}=t;this.onFinish=r;const d=new T(s,l,a);let h=Date.now(),c=e-i;const p=()=>{this.Mt&&(c=d.easeFrame(c,Date.now()-h),Math.abs(c)<1&&Math.abs(d.velocity)<50?(n(i),o&&o(),this.onFinish()):(h=Date.now(),n(c+i),this.Mt=requestAnimationFrame(p)))};this.Mt=requestAnimationFrame(p)}destroy(){this.Mt>=0&&cancelAnimationFrame(this.Mt),this.Mt=0}}class q{constructor(){this.activeAnimations=[]}startSpring(t){this.Pt(t,!0)}startTransition(t){this.Pt(t)}Pt(t,e){const i=e?new M(t):new U(t);return this.activeAnimations.push(i),i.onFinish=()=>this.stop(i),i}stop(t){t.destroy();const e=this.activeAnimations.indexOf(t);e>-1&&this.activeAnimations.splice(e,1)}stopAll(){this.activeAnimations.forEach(t=>{t.destroy()}),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter(t=>!t.props.isPan||(t.destroy(),!1))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter(t=>!t.props.isMainScroll||(t.destroy(),!1))}isPanRunning(){return this.activeAnimations.some(t=>t.props.isPan)}}class ${constructor(t){this.pswp=t,t.events.add(t.element,"wheel",this.Ct.bind(this))}Ct(t){t.preventDefault();const{currSlide:e}=this.pswp;let{deltaX:i,deltaY:s}=t;if(e&&!this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented)if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){let i=-s;1===t.deltaMode?i*=.05:i*=t.deltaMode?1:.002,i=2**i;const n=e.currZoomLevel*i;e.zoomTo(n,{x:t.clientX,y:t.clientY})}}else e.isPannable()&&(1===t.deltaMode&&(i*=18,s*=18),e.panTo(e.pan.x-i,e.pan.y-s))}}class F{constructor(e,i){var s;const n=i.name||i.className;let o=i.html;if(!1===e.options[n])return;"string"==typeof e.options[n+"SVG"]&&(o=e.options[n+"SVG"]),e.dispatch("uiElementCreate",{data:i});let r="";i.isButton?(r+="pswp_lf__button ",r+=i.className||`pswp_lf__button--${i.name}`):r+=i.className||`pswp_lf__${i.name}`;let l=i.isButton?i.tagName||"button":i.tagName||"div";l=l.toLowerCase();const a=t(r,l);if(i.isButton){"button"===l&&(a.type="button");let{title:t}=i;const{ariaLabel:s}=i;"string"==typeof e.options[n+"Title"]&&(t=e.options[n+"Title"]),t&&(a.title=t);const o=s||t;o&&a.setAttribute("aria-label",o)}a.innerHTML=function(t){if("string"==typeof t)return t;if(!t||!t.isCustomSVG)return"";const e=t;let i='<svg aria-hidden="true" class="pswp_lf__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(e.size||32),e.outlineID&&(i+='<use class="pswp_lf__icn-shadow" xlink:href="#'+e.outlineID+'"/>'),i+=e.inner,i+="</svg>",i}(o),i.onInit&&i.onInit(a,e),i.onClick&&(a.onclick=t=>{"string"==typeof i.onClick?e[i.onClick]():"function"==typeof i.onClick&&i.onClick(t,a,e)});const d=i.appendTo||"bar";let h=e.element;"bar"===d?(e.topBar||(e.topBar=t("pswp_lf__top-bar pswp_lf__hide-on-close","div",e.scrollWrap)),h=e.topBar):(a.classList.add("pswp_lf__hide-on-close"),"wrapper"===d&&(h=e.scrollWrap)),null===(s=h)||void 0===s||s.appendChild(e.applyFilters("uiElement",a,i))}}function O(t,e,i){t.classList.add("pswp_lf__button--arrow"),t.setAttribute("aria-controls","pswp_lf__items"),e.on("change",()=>{e.options.loop||(t.disabled=i?!(e.currIndex<e.getNumItems()-1):!(e.currIndex>0))})}const N={name:"arrowPrev",className:"pswp_lf__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp_lf__icn-arrow"/>',outlineID:"pswp_lf__icn-arrow"},onClick:"prev",onInit:O},H={name:"arrowNext",className:"pswp_lf__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp_lf__icn-arrow"/>',outlineID:"pswp_lf__icn-arrow"},onClick:"next",onInit:(t,e)=>{O(t,e,!0)}},W={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp_lf__icn-close"/>',outlineID:"pswp_lf__icn-close"},onClick:"close"},B={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp_lf__icn-zoom"/><path fill="currentColor" class="pswp_lf__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp_lf__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp_lf__icn-zoom"},onClick:"toggleZoom"},j={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp_lf__icn-loading"/>',outlineID:"pswp_lf__icn-loading"},onInit:(t,e)=>{let i,s=null;const n=e=>{var s;i!==e&&(i=e,s=e,t.classList.toggle("pswp_lf__preloader--active",s))},o=()=>{var t;if(null===(t=e.currSlide)||void 0===t||!t.content.isLoading())return n(!1),void(s&&(clearTimeout(s),s=null));s||(s=setTimeout(()=>{var t;n(Boolean(null===(t=e.currSlide)||void 0===t?void 0:t.content.isLoading())),s=null},e.options.preloaderDelay))};e.on("change",o),e.on("loadComplete",t=>{e.currSlide===t.slide&&o()}),e.ui&&(e.ui.updatePreloaderVisibility=o)}},R={name:"counter",order:5,onInit:(t,e)=>{e.on("change",()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()})}};function G(t,e){t.classList.toggle("pswp_lf--zoomed-in",e)}class Z{constructor(t){this.pswp=t,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=()=>{},this.Tt=void 0}init(){const{pswp:t}=this;this.isRegistered=!1,this.uiElementsData=[W,N,H,B,j,R],t.dispatch("uiRegister"),this.uiElementsData.sort((t,e)=>(t.order||0)-(e.order||0)),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach(t=>{this.registerElement(t)}),t.on("change",()=>{var e;null===(e=t.element)||void 0===e||e.classList.toggle("pswp_lf--one-slide",1===t.getNumItems())}),t.on("zoomPanUpdate",()=>this.At())}registerElement(t){this.isRegistered?this.items.push(new F(this.pswp,t)):this.uiElementsData.push(t)}At(){const{template:t,currSlide:e,options:i}=this.pswp;if(this.pswp.opener.isClosing||!t||!e)return;let{currZoomLevel:s}=e;if(this.pswp.opener.isOpen||(s=e.zoomLevels.initial),s===this.Tt)return;this.Tt=s;const n=e.zoomLevels.initial-e.zoomLevels.secondary;if(Math.abs(n)<.01||!e.isZoomable())return G(t,!1),void t.classList.remove("pswp_lf--zoom-allowed");t.classList.add("pswp_lf--zoom-allowed"),G(t,(s===e.zoomLevels.initial?e.zoomLevels.secondary:e.zoomLevels.initial)<=s),"zoom"!==i.imageClickAction&&"zoom-or-close"!==i.imageClickAction||t.classList.add("pswp_lf--click-to-zoom")}}class J{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}class V{constructor(e,i){if(this.element=t("pswp_lf__img pswp_lf__img--placeholder",e?"img":"div",i),e){const t=this.element;t.decoding="async",t.alt="",t.src=e,t.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){this.element&&("IMG"===this.element.tagName?(d(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=r(0,0,t/250)):d(this.element,t,e))}destroy(){var t;null!==(t=this.element)&&void 0!==t&&t.parentNode&&this.element.remove(),this.element=null}}class X{constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state="idle",this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new V(t,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp_lf__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp_lf__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const s=this.element;this.updateSrcsetSizes(),this.data.srcset&&(s.srcset=this.data.srcset),s.src=null!==(e=this.data.src)&&void 0!==e?e:"",s.alt=null!==(i=this.data.alt)&&void 0!==i?i:"",this.state=h,s.complete?this.onLoaded():(s.onload=()=>{this.onLoaded()},s.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=c,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==c&&this.state!==p||this.removePlaceholder())}onError(){this.state=p,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===h,this)}isError(){return this.state===p}isImageContent(){return"image"===this.type}setDisplayedSize(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(d(this.element,t,e),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==p,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let s=t("pswp_lf__error-msg","div");s.innerText=null!==(e=null===(i=this.instance.options)||void 0===i?void 0:i.errorMsg)&&void 0!==e?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=t("pswp_lf__content pswp_lf__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===p)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||u())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!u()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==c&&this.state!==p||this.removePlaceholder()))}}function Y(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){let r;n=new b(o,t,-1),r=e.pswp?e.pswp.viewportSize:g(o,e);const l=v(o,r,t,i);n.update(s.width,s.height,l)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}class Q{constructor(t){this.pswp=t,this.limit=Math.max(t.options.preload[0]+t.options.preload[1]+1,5),this.Dt=[]}updateLazy(t){const{pswp:e}=this;if(e.dispatch("lazyLoad").defaultPrevented)return;const{preload:i}=e.options,s=void 0===t||t>=0;let n;for(n=0;n<=i[1];n++)this.loadSlideByIndex(e.currIndex+(s?n:-n));for(n=1;n<=i[0];n++)this.loadSlideByIndex(e.currIndex+(s?-n:n))}loadSlideByIndex(t){const e=this.pswp.getLoopedIndex(t);let i=this.getContentByIndex(e);i||(i=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return Y(i,e,t)}(e,this.pswp),i&&this.addToCache(i))}getContentBySlide(t){let e=this.getContentByIndex(t.index);return e||(e=this.pswp.createContentFromData(t.data,t.index),this.addToCache(e)),e.setSlide(t),e}addToCache(t){if(this.removeByIndex(t.index),this.Dt.push(t),this.Dt.length>this.limit){const t=this.Dt.findIndex(t=>!t.isAttached&&!t.hasSlide);-1!==t&&this.Dt.splice(t,1)[0].destroy()}}removeByIndex(t){const e=this.Dt.findIndex(e=>e.index===t);-1!==e&&this.Dt.splice(e,1)}getContentByIndex(t){return this.Dt.find(e=>e.index===t)}destroy(){this.Dt.forEach(t=>t.destroy()),this.Dt=[]}}const K=.003;class tt{constructor(t){this.pswp=t,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this.It=void 0,this.Et=!1,this.Lt=!1,this.kt=!1,this.Zt=!1,this.Bt=void 0,this.Ft=void 0,this.Ot=void 0,this.Rt=void 0,this.Nt=void 0,this.Ut=this.Ut.bind(this),t.on("firstZoomPan",this.Ut)}open(){this.Ut(),this.Pt()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const t=this.pswp.currSlide;this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this.It=this.pswp.options.hideAnimationDuration,t&&t.currZoomLevel*t.width>=this.pswp.options.maxWidthToAnimate&&(this.It=0),this.Vt(),setTimeout(()=>{this.Pt()},this.Lt?30:0)}Ut(){if(this.pswp.off("firstZoomPan",this.Ut),!this.isOpening){const t=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this.It=this.pswp.options.showAnimationDuration,t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate&&(this.It=0),this.Vt()}}Vt(){const{pswp:t}=this,e=this.pswp.currSlide,{options:i}=t;var s,n;if("fade"===i.showHideAnimationType?(i.showHideOpacity=!0,this.Nt=void 0):"none"===i.showHideAnimationType?(i.showHideOpacity=!1,this.It=0,this.Nt=void 0):this.isOpening&&t.Gt?this.Nt=t.Gt:this.Nt=this.pswp.getThumbBounds(),this.Bt=null==e?void 0:e.getPlaceholderElement(),t.animations.stopAll(),this.Et=Boolean(this.It&&this.It>50),this.$t=Boolean(this.Nt)&&(null==e?void 0:e.content.usePlaceholder())&&(!this.isClosing||!t.mainScroll.isShifted()),this.$t?this.kt=null!==(s=i.showHideOpacity)&&void 0!==s&&s:(this.kt=!0,this.isOpening&&e&&(e.zoomAndPanToInitial(),e.applyCurrentZoomPan())),this.Zt=!this.kt&&this.pswp.options.bgOpacity>K,this.Ft=this.kt?t.element:t.bg,!this.Et)return this.It=0,this.$t=!1,this.Zt=!1,this.kt=!0,void(this.isOpening&&(t.element&&(t.element.style.opacity=String(K)),t.applyBgOpacity(1)));this.$t&&this.Nt&&this.Nt.innerRect?(this.Lt=!0,this.Ot=this.pswp.container,this.Rt=null===(n=this.pswp.currSlide)||void 0===n?void 0:n.holderElement,t.container&&(t.container.style.overflow="hidden",t.container.style.width=t.viewportSize.x+"px")):this.Lt=!1,this.isOpening?(this.kt?(t.element&&(t.element.style.opacity=String(K)),t.applyBgOpacity(1)):(this.Zt&&t.bg&&(t.bg.style.opacity=String(K)),t.element&&(t.element.style.opacity="1")),this.$t&&(this.qt(),this.Bt&&(this.Bt.style.willChange="transform",this.Bt.style.opacity=String(K)))):this.isClosing&&(t.mainScroll.itemHolders[0]&&(t.mainScroll.itemHolders[0].el.style.display="none"),t.mainScroll.itemHolders[2]&&(t.mainScroll.itemHolders[2].el.style.display="none"),this.Lt&&0!==t.mainScroll.x&&(t.mainScroll.resetPosition(),t.mainScroll.resize()))}Pt(){this.isOpening&&this.Et&&this.Bt&&"IMG"===this.Bt.tagName?new Promise(t=>{let e=!1,i=!0;var s;(s=this.Bt,"decode"in s?s.decode().catch(()=>{}):s.complete?Promise.resolve(s):new Promise((t,e)=>{s.onload=()=>t(s),s.onerror=e})).finally(()=>{e=!0,i||t(!0)}),setTimeout(()=>{i=!1,e&&t(!0)},50),setTimeout(t,250)}).finally(()=>this.Ht()):this.Ht()}Ht(){var t,e;null===(t=this.pswp.element)||void 0===t||t.style.setProperty("--pswp-transition-duration",this.It+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),null===(e=this.pswp.element)||void 0===e||e.classList.toggle("pswp_lf--ui-visible",this.isOpening),this.isOpening?(this.Bt&&(this.Bt.style.opacity="1"),this.Kt()):this.isClosing&&this.Wt(),this.Et||this.jt()}jt(){const{pswp:t}=this;if(this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed)t.destroy();else if(this.isOpen){var e;this.$t&&t.container&&(t.container.style.overflow="visible",t.container.style.width="100%"),null===(e=t.currSlide)||void 0===e||e.applyCurrentZoomPan()}}Kt(){const{pswp:t}=this;this.$t&&(this.Lt&&this.Ot&&this.Rt&&(this.Xt(this.Ot,"transform","translate3d(0,0,0)"),this.Xt(this.Rt,"transform","none")),t.currSlide&&(t.currSlide.zoomAndPanToInitial(),this.Xt(t.currSlide.container,"transform",t.currSlide.getCurrentTransform()))),this.Zt&&t.bg&&this.Xt(t.bg,"opacity",String(t.options.bgOpacity)),this.kt&&t.element&&this.Xt(t.element,"opacity","1")}Wt(){const{pswp:t}=this;this.$t&&this.qt(!0),this.Zt&&t.bgOpacity>.01&&t.bg&&this.Xt(t.bg,"opacity","0"),this.kt&&t.element&&this.Xt(t.element,"opacity","0")}qt(t){if(!this.Nt)return;const{pswp:i}=this,{innerRect:s}=this.Nt,{currSlide:n,viewportSize:o}=i;if(this.Lt&&s&&this.Ot&&this.Rt){const e=-o.x+(this.Nt.x-s.x)+s.w,i=-o.y+(this.Nt.y-s.y)+s.h,n=o.x-s.w,a=o.y-s.h;t?(this.Xt(this.Ot,"transform",r(e,i)),this.Xt(this.Rt,"transform",r(n,a))):(l(this.Ot,e,i),l(this.Rt,n,a))}n&&(e(n.pan,s||this.Nt),n.currZoomLevel=this.Nt.w/n.width,t?this.Xt(n.container,"transform",n.getCurrentTransform()):n.applyCurrentZoomPan())}Xt(t,e,i){if(!this.It)return void(t.style[e]=i);const{animations:s}=this.pswp,n={duration:this.It,easing:this.pswp.options.easing,onComplete:()=>{s.activeAnimations.length||this.jt()},target:t};n[e]=i,s.startTransition(n)}}const et={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,trapFocus:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};return class extends class extends class{constructor(){this.Yt={},this.Jt={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){var s,n,o;this.Jt[t]||(this.Jt[t]=[]),null===(s=this.Jt[t])||void 0===s||s.push({fn:e,priority:i}),null===(n=this.Jt[t])||void 0===n||n.sort((t,e)=>t.priority-e.priority),null===(o=this.pswp)||void 0===o||o.addFilter(t,e,i)}removeFilter(t,e){this.Jt[t]&&(this.Jt[t]=this.Jt[t].filter(t=>t.fn!==e)),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;return null===(i=this.Jt[t])||void 0===i||i.forEach(t=>{e[0]=t.fn.apply(this,e)}),e[0]}on(t,e){var i,s;this.Yt[t]||(this.Yt[t]=[]),null===(i=this.Yt[t])||void 0===i||i.push(e),null===(s=this.pswp)||void 0===s||s.on(t,e)}off(t,e){var i;this.Yt[t]&&(this.Yt[t]=this.Yt[t].filter(t=>e!==t)),null===(i=this.pswp)||void 0===i||i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const s=new J(t,e);return null===(i=this.Yt[t])||void 0===i||i.forEach(t=>{t.call(this,s)}),s}}{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;i&&"length"in i?e=i.length:i&&"gallery"in i&&(i.items||(i.items=this.Qt(i.gallery)),i.items&&(e=i.items.length));const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new X(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let s={};Array.isArray(i)?s=i[t]:i&&"gallery"in i&&(i.items||(i.items=this.Qt(i.gallery)),s=i.items[t]);let n=s;n instanceof Element&&(n=this.ti(n));const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}Qt(t){var e,i;return null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector?function(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"==typeof t?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}(this.options.children,this.options.childSelector,t)||[]:[t]}ti(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const n=t.querySelector("img");var s;n&&(e.msrc=n.currentSrc||n.src,e.alt=null!==(s=n.getAttribute("alt"))&&void 0!==s?s:""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return Y(t,this,e)}}{constructor(t){super(),this.options=this.ii(t||{}),this.offset={x:0,y:0},this.si={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this.hi={},this.Gt=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new m,this.animations=new q,this.mainScroll=new z(this),this.gestures=new L(this),this.opener=new tt(this),this.keyboard=new I(this),this.contentLoader=new Q(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this.ei();let t="pswp_lf--open";return this.gestures.supportsTouch&&(t+=" pswp_lf--touch"),this.options.mainClass&&(t+=" "+this.options.mainClass),this.element&&(this.element.className+=" "+t),this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new $(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this.hi=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this.hi,slide:void 0}),this.Gt=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",()=>{const{itemHolders:t}=this.mainScroll;t[0]&&(t[0].el.style.display="block",this.setContent(t[0],this.currIndex-1)),t[2]&&(t[2].el.style.display="block",this.setContent(t[2],this.currIndex+1)),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this.ni.bind(this)),this.events.add(window,"scroll",this.oi.bind(this)),this.dispatch("bindEvents")}),this.mainScroll.itemHolders[1]&&this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(t){const e=this.getNumItems();return this.options.loop&&(t>e-1&&(t-=e),t<0&&(t+=e)),o(t,0,e-1)}appendHeavy(){this.mainScroll.itemHolders.forEach(t=>{var e;null===(e=t.slide)||void 0===e||e.appendHeavy()})}goTo(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...t){var e;null===(e=this.currSlide)||void 0===e||e.zoomTo(...t)}toggleZoom(){var t;null===(t=this.currSlide)||void 0===t||t.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){var t;if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.Yt={},this.scrollWrap&&(this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null),null===(t=this.element)||void 0===t||t.remove(),this.mainScroll.itemHolders.forEach(t=>{var e;null===(e=t.slide)||void 0===e||e.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(t){this.contentLoader.removeByIndex(t),this.mainScroll.itemHolders.forEach((e,i)=>{var s,n;let o=(null!==(s=null===(n=this.currSlide)||void 0===n?void 0:n.index)&&void 0!==s?s:0)-1+i;var r;this.canLoop()&&(o=this.getLoopedIndex(o)),o===t&&(this.setContent(e,t,!0),1===i&&(this.currSlide=e.slide,null===(r=e.slide)||void 0===r||r.setIsActive(!0)))}),this.dispatch("change")}setContent(t,e,i){if(this.canLoop()&&(e=this.getLoopedIndex(e)),t.slide){if(t.slide.index===e&&!i)return;t.slide.destroy(),t.slide=void 0}if(!this.canLoop()&&(e<0||e>=this.getNumItems()))return;const s=this.getItemData(e);t.slide=new S(s,e,this),e===this.currIndex&&(this.currSlide=t.slide),t.slide.append(t.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(t){if(this.isDestroying)return;const i=g(this.options,this);!t&&n(i,this.si)||(e(this.si,i),this.dispatch("beforeResize"),e(this.viewportSize,this.si),this.oi(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(t){this.bgOpacity=Math.max(t,0),this.bg&&(this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity))}mouseDetected(){var t;this.hasMouse||(this.hasMouse=!0,null===(t=this.element)||void 0===t||t.classList.add("pswp_lf--has_mouse"))}ni(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout(()=>{this.updateSize()},500)}oi(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(t,e){this.offset.x=t,this.offset.y=e,this.dispatch("updateScrollOffset")}ei(){this.element=t("pswp_lf","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=t("pswp_lf__bg","div",this.element),this.scrollWrap=t("pswp_lf__scroll-wrap","section",this.element),this.container=t("pswp_lf__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp_lf__items"),this.mainScroll.appendHolders(),this.ui=new Z(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return function(t,e,i){const s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds)return s.thumbBounds;const{element:n}=e;let o,r;if(n&&!1!==i.options.thumbSelector){const t=i.options.thumbSelector||"img";r=n.matches(t)?n:n.querySelector(t)}return r=i.applyFilters("thumbEl",r,e,t),r&&(o=e.thumbCropped?function(t,e,i){const s=t.getBoundingClientRect(),n=s.width/e,o=s.height/i,r=n>o?n:o,l=(s.width-e*r)/2,a=(s.height-i*r)/2,d={x:s.left+l,y:s.top+a,w:e*r};return d.innerRect={w:s.width,h:s.height,x:l,y:a},d}(r,e.width||e.w||0,e.height||e.h||0):function(t){const e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}(r)),i.applyFilters("thumbBounds",o,e,t)}(this.currIndex,this.currSlide?this.currSlide.data:this.hi,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}ii(t){return window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(t.showHideAnimationType="none",t.zoomAnimationDuration=0),{...et,...t}}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LfPhotoSwipeLightbox=e()}(this,function(){"use strict";function t(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function e(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const i="loading",s="loaded",n="error";function o(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n="string"==typeof t?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}function r(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class l{constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}class a{constructor(e,i){if(this.element=t("pswp_lf__img pswp_lf__img--placeholder",e?"img":"div",i),e){const t=this.element;t.decoding="async",t.alt="",t.src=e,t.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,i){this.element&&("IMG"===this.element.tagName?(e(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(t,e,i){let s="translate3d(0px,0px,0)";return void 0!==i&&(s+=` scale3d(${i},${i},1)`),s}(0,0,t/250)):e(this.element,t,i))}destroy(){var t;null!==(t=this.element)&&void 0!==t&&t.parentNode&&this.element.remove(),this.element=null}}class d{constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state="idle",this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new a(t,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp_lf__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp_lf__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var e,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=null!==(e=this.data.src)&&void 0!==e?e:"",n.alt=null!==(s=this.data.alt)&&void 0!==s?s:"",this.state=i,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=s,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==s&&this.state!==n||this.removePlaceholder())}onError(){this.state=n,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===i,this)}isError(){return this.state===n}isImageContent(){return"image"===this.type}setDisplayedSize(t,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,i),!this.instance.dispatch("contentResize",{content:this,width:t,height:i}).defaultPrevented&&(e(this.element,t,i),this.isImageContent()&&!this.isError()))){const e=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=i,e?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:i,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==n,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let s=t("pswp_lf__error-msg","div");s.innerText=null!==(e=null===(i=this.instance.options)||void 0===i?void 0:i.errorMsg)&&void 0!==e?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=t("pswp_lf__content pswp_lf__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===n)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||r())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!r()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==s&&this.state!==n||this.removePlaceholder()))}}function h(t,e,i,s,n){let o=0;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(o=e[i])}return Number(o)||0}class c{constructor(t,e,i,s){this.pswp=s,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s,this.panAreaSize=i;const n=i.x/s.x,o=i.y/s.y;this.fit=Math.min(1,n<o?n:o),this.fill=Math.min(1,n>o?n:o),this.vFill=Math.min(1,o),this.initial=this.t(),this.secondary=this.i(),this.max=Math.max(this.initial,this.secondary,this.o()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}l(t){const e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}i(){let t=this.l("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}t(){return this.l("initial")||this.fit}o(){return this.l("max")||Math.max(1,4*this.fit)}}function p(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){let r;n=new c(o,t,-1),r=e.pswp?e.pswp.viewportSize:function(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(o,e);const l=function(t,e,i,s){return{x:e.x-h("left",t,e,i,s)-h("right",t,e,i,s),y:e.y-h("top",t,e,i,s)-h("bottom",t,e,i,s)}}(o,r,t,i);n.update(s.width,s.height,l)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}return class extends class extends class{constructor(){this.u={},this.p={},this.pswp=void 0,this.options=void 0}addFilter(t,e,i=100){var s,n,o;this.p[t]||(this.p[t]=[]),null===(s=this.p[t])||void 0===s||s.push({fn:e,priority:i}),null===(n=this.p[t])||void 0===n||n.sort((t,e)=>t.priority-e.priority),null===(o=this.pswp)||void 0===o||o.addFilter(t,e,i)}removeFilter(t,e){this.p[t]&&(this.p[t]=this.p[t].filter(t=>t.fn!==e)),this.pswp&&this.pswp.removeFilter(t,e)}applyFilters(t,...e){var i;return null===(i=this.p[t])||void 0===i||i.forEach(t=>{e[0]=t.fn.apply(this,e)}),e[0]}on(t,e){var i,s;this.u[t]||(this.u[t]=[]),null===(i=this.u[t])||void 0===i||i.push(e),null===(s=this.pswp)||void 0===s||s.on(t,e)}off(t,e){var i;this.u[t]&&(this.u[t]=this.u[t].filter(t=>e!==t)),null===(i=this.pswp)||void 0===i||i.off(t,e)}dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const s=new l(t,e);return null===(i=this.u[t])||void 0===i||i.forEach(t=>{t.call(this,s)}),s}}{getNumItems(){var t;let e=0;const i=null===(t=this.options)||void 0===t?void 0:t.dataSource;i&&"length"in i?e=i.length:i&&"gallery"in i&&(i.items||(i.items=this.v(i.gallery)),i.items&&(e=i.items.length));const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new d(t,this,e)}getItemData(t){var e;const i=null===(e=this.options)||void 0===e?void 0:e.dataSource;let s={};Array.isArray(i)?s=i[t]:i&&"gallery"in i&&(i.items||(i.items=this.v(i.gallery)),s=i.items[t]);let n=s;n instanceof Element&&(n=this.m(n));const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}v(t){var e,i;return null!==(e=this.options)&&void 0!==e&&e.children||null!==(i=this.options)&&void 0!==i&&i.childSelector?o(this.options.children,this.options.childSelector,t)||[]:[t]}m(t){const e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);const n=t.querySelector("img");var s;n&&(e.msrc=n.currentSrc||n.src,e.alt=null!==(s=n.getAttribute("alt"))&&void 0!==s?s:""),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return p(t,this,e)}}{constructor(t){super(),this.options=t||{},this.g=0,this.shouldOpen=!1,this._=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){o(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(t){if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t)||window.pswp)return;let e={x:t.clientX,y:t.clientY};e.x||e.y||(e=null);let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const s={gallery:t.currentTarget};i>=0&&(t.preventDefault(),this.loadAndOpen(i,s,e))}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const e=t.target,i=o(this.options.children,this.options.childSelector,t.currentTarget).findIndex(t=>t===e||t.contains(e));return-1!==i?i:this.options.children||this.options.childSelector?-1:0}loadAndOpen(t,e,i){if(window.pswp||!this.options)return!1;if(!e&&this.options.gallery&&this.options.children){const t=o(this.options.gallery);t[0]&&(e={gallery:t[0]})}return this.options.index=t,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(t,e),!0}preload(t,e){const{options:i}=this;e&&(i.dataSource=e);const s=[],n=typeof i.pswpModule;if("function"==typeof(o=i.pswpModule)&&o.prototype&&o.prototype.goTo)s.push(Promise.resolve(i.pswpModule));else{if("string"===n)throw new Error("pswpModule as string is no longer supported");if("function"!==n)throw new Error("pswpModule is not valid");s.push(i.pswpModule())}var o;"function"==typeof i.openPromise&&s.push(i.openPromise()),!1!==i.preloadFirstSlide&&t>=0&&(this._=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return p(i,e,t)}(t,this));const r=++this.g;Promise.all(s).then(t=>{if(this.shouldOpen){const e=t[0];this.I(e,r)}})}I(t,e){if(e!==this.g&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const i="object"==typeof t?new t.default(this.options):new t(this.options);this.pswp=i,window.pswp=i,Object.keys(this.u).forEach(t=>{var e;null===(e=this.u[t])||void 0===e||e.forEach(e=>{i.on(t,e)})}),Object.keys(this.p).forEach(t=>{var e;null===(e=this.p[t])||void 0===e||e.forEach(e=>{i.addFilter(t,e.fn,e.priority)})}),this._&&(i.contentLoader.addToCache(this._),this._=void 0),i.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),i.init()}destroy(){var t;null===(t=this.pswp)||void 0===t||t.destroy(),this.shouldOpen=!1,this.u={},o(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}});class i{constructor(t,e){this.options=e,this.initLightboxEvents(t),t.on("init",()=>{this.initPswpEvents(t.pswp)})}light_render(t,e="normal",i=0){if(!t)return;const{content:s,container:n}=t,{element:o,data:r}=s;if(o&&r.hotspot>0&&!lfUtils.mobileCheck()){var l=window.lfLightBoxSpacing||20,a=window.lfLightBoxSidebar||380,d=window.lfLightBoxMaxWidth||1200,h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,p=h-2*l,u=window.innerHeight-2*l,f=parseInt(r.width)/parseInt(r.height);d>p&&(d=p);var m=d=d-a-0,g=m/f;g>u&&(m=(g=u)*f),o.style.width=m+a+0+"px",o.style.height=g+"px";const t=`translate3d(${(h-(m+a+0))/2}px, ${(c-g)/2}px, 0px) scale3d(1, 1, 1)`;n.style.setProperty("--transform",t),n.style.transform=t,"timeout"==e&&setTimeout(()=>{o.style.width=m+a+0+"px",o.style.height=g+"px",n.style.transform=t,n.style.setProperty("--timeout",t)},i)}}initLightboxEvents(t){t.on("contentLoad",this.onContentLoad.bind(this)),t.on("contentDestroy",this.onContentDestroy.bind(this)),t.on("contentActivate",this.onContentActivate.bind(this)),t.on("contentDeactivate",this.onContentDeactivate.bind(this)),t.on("contentAppend",this.onContentAppend.bind(this)),t.on("contentRemove",this.onContentRemove.bind(this)),t.on("afterInit",()=>{lfUtils.select(".pswp_lf").classList.add("pswp-lf","lf-popup-"+this.options.galleryData.popup),document.querySelector(".pswp_lf").addEventListener("wheel",t=>{const e=t.target,i="lf-productItems";(e.classList.contains(i)||e.closest(`.${i}`))&&t.stopPropagation()},{capture:!0,passive:!0})}),t.on("calcSlideSize",({slide:t})=>{this.light_render(t,"timeout")}),t.on("zoomPanUpdate",({slide:t})=>{this.light_render(t)}),t.addFilter("isKeepingPlaceholder",this.isKeepingPlaceholder.bind(this)),t.addFilter("isContentZoomable",this.isContentZoomable.bind(this)),t.addFilter("useContentPlaceholder",this.useContentPlaceholder.bind(this)),t.addFilter("preventPointerEvent",this.preventPointerEvent.bind(this)),t.addFilter("domItemData",(t,e,i)=>("hotspots"===t.type&&i&&(t.hotspot=parseInt(i.dataset.hotspots)||0,t.media=i.dataset.pswpMedia||"image","video"===t.media&&(i.dataset.pswpVideoSources?t.videoSources=JSON.parse(i.dataset.pswpVideoSources):i.dataset.pswpVideoSrc?t.videoSrc=i.dataset.pswpVideoSrc:t.videoSrc=i.href,t.img=i.dataset.img),t.section=e.closest(".lookfy-gallery").dataset.section,t.hotspot>0&&i.dataset.imageId&&(t.imageId=i.dataset.imageId)),t))}initPswpEvents(t){t.on("pointerDown",e=>{const i=t.currSlide;if(isLfVideoContent(i)&&this.options.preventDragOffset){const s=e.originalEvent;if("pointerdown"===s.type){const n=Math.ceil(i.height*i.currZoomLevel)+i.bounds.center.y,o=s.pageY-t.offset.y;o>n-this.options.preventDragOffset&&o<n&&e.preventDefault()}}}),t.on("appendHeavy",t=>{isLfVideoContent(t.slide)&&!t.slide.isActive&&t.preventDefault()}),t.on("close",()=>{isLfHotspotContent(t.currSlide.content)&&isLfVideoContent(t.currSlide.content)&&(t.options.showHideAnimationType&&"zoom"!==t.options.showHideAnimationType||(t.options.showHideAnimationType="fade"),this.pauseVideo(t.currSlide.content));t.container.querySelectorAll(".pswp__hotspots-container").forEach(t=>{const e=t.querySelector(".pswp__lightboxInfo")?.dataset.imageid;if(!e)return;const i=document.getElementById(`${this.options.galleryData.sectionId}-${e}`);if(!i)return;const s=t.querySelector(".lf-productItems");s&&i.appendChild(s);const n=t.querySelector(".kt-hotspots-wrapper");if(!n)return;n.querySelector(".kt-image-link")?.classList.remove("lfHidden");const o=i.querySelector(".skinItemLayers"),r=i.querySelector(".kt-image-item-box");o?o.before(n):r&&r.appendChild(n)})})}onContentResize({content:t}){this.light_render(t.slide)}onContentLoad(t){const e=t.content;if(isLfHotspotContent(e)){const{data:i,type:s,slide:n}=e;if(!t.content)return;if(t.preventDefault(),e.element)return;e.type="hotspots",e.element=lfUtils.createDomEl("div","pswp__hotspots-container");const o=i.imageId?{"data-imageId":i.imageId}:{},r=lfUtils.createDomEl("div",`pswp__lightboxInfo shopify-section-${i.section}`,"",o),l=lfUtils.createDomEl("div","pswp__hotspots-wrap");if("video"==i.media){const t={poster:i.img,autoplay:!0,loop:!0,muted:!0,width:i.width||i.vwidth||"auto",height:i.height||i.vheight||"auto"},e=lfUtils.createDomEl("video","",`<source src="${i.src}" type="video/mp4" />`,t);e.muted=!0,e.setAttribute("muted","true"),e.setAttribute("playsinline",""),e.setAttribute("preload","auto"),l.appendChild(e)}else l.innerHTML=`<img src="${i.src}" alt="" style="max-width: 100%;"/>`;r.appendChild(l),e.element.appendChild(r);const a=this.options.galleryData;if(i.imageId){const t=document.getElementById(`${i.section}-${i.imageId}`),e=lfUtils.createDomEl("div","pswp__productInfo",`<h4>${lfUtils.getCurrentLange("in_this_photo")}</h4>`);if(r.appendChild(e),lfUtils.mobileCheck()){const e=lfUtils.createDomEl("div","pswp__productInfo_mobile",`<a href="#">${lfUtils.getCurrentLange("shop_the_look")}</a>`);r.appendChild(e);e.querySelector("a").addEventListener("click",function(e){e.preventDefault();const i=t.querySelector(".lf-productItems");i&&lfUtils.lightbox({heading:lfUtils.getCurrentLange("in_this_photo"),classes:`shopify-section-${a.sectionId}`,content:i,callback:()=>{t.appendChild(i)},photoSwipe:!1})})}}}}onContentAppend({content:t}){const{data:e,element:i,slide:s}=t;if(this.light_render(s,"timeout"),!e.imageId)return;const n=document.getElementById(`${e.section}-${e.imageId}`);if(!n)return;const o=i.querySelector(".pswp__hotspots-wrap");if(o){const t=n.querySelector(".kt-hotspots-wrapper"),e=t?.querySelector(".kt-image-link");e&&e.classList.add("lfHidden"),o.appendChild(t)}if(!lfUtils.mobileCheck()){const t=n.querySelector(".lf-productItems");t&&i.querySelector(".pswp__productInfo")?.appendChild(t)}}onContentRemove({content:t}){const{data:e,element:i,slide:s}=t;if(e.imageId){const t=document.getElementById(`${e.section}-${e.imageId}`);if(s){const{container:e}=s,i=e.querySelector(".kt-hotspots-wrapper");if(i){const e=i.querySelector(".kt-image-link");e&&e.classList.remove("lfHidden");const s=t.querySelector(".skinItemLayers"),n=t.querySelector(".kt-image-item-box");s?s.before(i):n&&n.appendChild(i)}if(!lfUtils.mobileCheck()){const i=e.querySelector(".lf-productItems");i&&t.appendChild(i)}}}}onContentDestroy({content:t}){isLfVideoContent(t)&&t._videoPosterImg&&(t._videoPosterImg.onload=t._videoPosterImg.onerror=null,t._videoPosterImg=null)}isKeepingPlaceholder(t,e){return!isLfVideoContent(e)&&t}isContentZoomable(t,e){return!isLfVideoContent(e)&&t}onContentActivate({content:t}){isLfVideoContent(t)&&this.options.autoplay&&this.playVideo(t)}onContentDeactivate({content:t}){isLfVideoContent(t)&&this.pauseVideo(t)}preloadVideoPoster(t,e){!t._videoPosterImg&&e&&(t._videoPosterImg=new Image,t._videoPosterImg.src=e,t._videoPosterImg.complete?t.onLoaded():t._videoPosterImg.onload=t._videoPosterImg.onerror=()=>{t.onLoaded()})}playVideo(t){const e=t.element.querySelector("video");t.element&&e&&(e.play(),e.muted=!1)}pauseVideo(t){const e=t.element.querySelector("video");e&&(e.pause(),e.muted=!0)}preventPointerEvent(t,e,i){return("down"!=i||"SELECT"!=e.target.tagName)&&t}useContentPlaceholder(t,e){return!!isLfVideoContent(e)||t}}!function(t,e){"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let i=this._events=this._events||{},s=i[t]=i[t]||[];return s.includes(e)||s.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;let s=i.indexOf(e);return-1!=s&&i.splice(s,1),this},e.emitEvent=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;i=i.slice(0),e=e||[];let s=this._onceEvents&&this._onceEvents[t];for(let n of i)s&&s[n]&&(this.off(t,n),delete s[n]),n.apply(this,e);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t}),function(t,e){"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){let i=t.jQuery,s=t.console;function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);let r=t;var l;"string"==typeof t&&(r=document.querySelectorAll(t)),r?(this.elements=(l=r,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?[...l]:[l]),this.options={},"function"==typeof e?o=e:Object.assign(this.options,e),o&&this.on("always",o),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):s.error(`Bad element for imagesLoaded ${r||t}`)}n.prototype=Object.create(e.prototype),n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11];n.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);let{nodeType:e}=t;if(!e||!o.includes(e))return;let i=t.querySelectorAll("img");for(let t of i)this.addImage(t);if("string"==typeof this.options.background){let e=t.querySelectorAll(this.options.background);for(let t of e)this.addElementBackgroundImages(t)}};const r=/url\((['"])?(.*?)\1\)/gi;function l(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}return n.prototype.addElementBackgroundImages=function(t){let e=getComputedStyle(t);if(!e)return;let i=r.exec(e.backgroundImage);for(;null!==i;){let s=i&&i[2];s&&this.addBackground(s,t),i=r.exec(e.backgroundImage)}},n.prototype.addImage=function(t){let e=new l(t);this.images.push(e)},n.prototype.addBackground=function(t,e){let i=new a(t,e);this.images.push(i)},n.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let t=(t,e,i)=>{setTimeout(()=>{this.progress(t,e,i)})};this.images.forEach(function(e){e.once("progress",t),e.check()})},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${i}`,t,e)},n.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},l.prototype=Object.create(e.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(t,e){this.isLoaded=t;let{parentNode:i}=this.img,s="PICTURE"===i.nodeName?i:this.img;this.emitEvent("progress",[this,s,e])},l.prototype.handleEvent=function(t){let e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(l.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(i=e,i.fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(i(this))})},n.makeJQueryPlugin(),n}),!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,o,l){(l=l||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){l.isPlainObject(t)&&(this.options=l.extend(!0,this.options,t))}),l.fn[i]=function(t){return"string"==typeof t?function(t,e,s){var n,o="$()."+i+'("'+e+'")';return t.each(function(t,a){var d=l.data(a,i);if(d){var h=d[e];if(h&&"_"!=e.charAt(0)){var c=h.apply(d,s);n=void 0===n?c:n}else r(o+" is not a valid method")}else r(i+" not initialized. Cannot call methods, i.e. "+o)}),void 0!==n?n:t}(this,t,n.call(arguments,1)):(function(t,e){t.each(function(t,s){var n=l.data(s,i);n?(n.option(e),n._init()):(n=new o(s,e),l.data(s,i,n))})}(this,t),this)},s(l))}function s(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,o=t.console,r=void 0===o?function(){}:function(t){o.error(t)};return s(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],n=0;n<i.length;n++){var o=i[n];s&&s[o]&&(this.off(t,o),delete s[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(t){var e=getComputedStyle(t);return e||o("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function i(){if(!a){a=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var o=document.body||document.documentElement;o.appendChild(i);var r=e(i);n=200==Math.round(t(r.width)),s.isBoxSizeOuter=n,o.removeChild(i)}}function s(s){if(i(),"string"==typeof s&&(s=document.querySelector(s)),s&&"object"==typeof s&&s.nodeType){var o=e(s);if("none"==o.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;l>e;e++)t[r[e]]=0;return t}();var a={};a.width=s.offsetWidth,a.height=s.offsetHeight;for(var d=a.isBorderBox="border-box"==o.boxSizing,h=0;l>h;h++){var c=r[h],p=o[c],u=parseFloat(p);a[c]=isNaN(u)?0:u}var f=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,v=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,b=d&&n,S=t(o.width);!1!==S&&(a.width=S+(b?0:f+v));var _=t(o.height);return!1!==_&&(a.height=_+(b?0:m+w)),a.innerWidth=a.width-(f+v),a.innerHeight=a.height-(m+w),a.outerWidth=a.width+g,a.outerHeight=a.height+y,a}}var n,o="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=r.length,a=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i]+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!s)return void n.push(t);e(t,s)&&n.push(t);for(var i=t.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}}),n},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout(function(){s.apply(o,e),delete o[n]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),r="data-"+o,l=document.querySelectorAll("["+r+"]"),a=document.querySelectorAll(".js-"+o),d=i.makeArray(l).concat(i.makeArray(a)),h=r+"-options",c=t.jQuery;d.forEach(function(t){var i,o=t.getAttribute(r)||t.getAttribute(h);try{i=o&&JSON.parse(o)}catch(e){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+e))}var l=new e(t,i);c&&c.data(t,s,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var s=document.documentElement.style,n="string"==typeof s.transition?"transition":"WebkitTransition",o="string"==typeof s.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],l={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"},a=i.prototype=Object.create(t.prototype);a.constructor=i,a._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.getSize=function(){this.size=e(this.element)},a.css=function(t){var e=this.element.style;for(var i in t)e[l[i]||i]=t[i]},a.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),s=t[e?"left":"right"],n=t[i?"top":"bottom"],o=parseFloat(s),r=parseFloat(n),l=this.layout.size;-1!=s.indexOf("%")&&(o=o/100*l.width),-1!=n.indexOf("%")&&(r=r/100*l.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?l.paddingLeft:l.paddingRight,r-=i?l.paddingTop:l.paddingBottom,this.position.x=o,this.position.y=r},a.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),s=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",o=i?"left":"right",r=i?"right":"left",l=this.position.x+t[n];e[o]=this.getXValue(l),e[r]="";var a=s?"paddingTop":"paddingBottom",d=s?"top":"bottom",h=s?"bottom":"top",c=this.position.y+t[a];e[d]=this.getYValue(c),e[h]="",this.css(e),this.emitEvent("layout",[this])},a.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},a.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},a._transitionTo=function(t,e){this.getPosition();var i=this.position.x,s=this.position.y,n=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!n||this.isTransitioning){var o=t-i,r=e-s,l={};l.transform=this.getTranslate(o,r),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},a.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},a.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.moveTo=a._transitionTo,a.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},a._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var d="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(o);a.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},a.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};a.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},a.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},a._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return a.removeTransitionStyles=function(){this.css(c)},a.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},a.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.remove=function(){return n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},a.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},a.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},a.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},a.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,s,n,o){return e(t,i,s,n,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,s,n){"use strict";function o(t,e){var i=s.getQueryElement(t);if(i){this.element=i,a&&(this.$element=a(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e);var n=++h;this.element.outlayerGUID=n,c[n]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}var l=t.console,a=t.jQuery,d=function(){},h=0,c={};o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var p=o.prototype;s.extend(p,e.prototype),p.option=function(t){s.extend(this.options,t)},p._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},p._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},p.reloadItems=function(){this.items=this._itemize(this.element.children)},p._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,s=[],n=0;n<e.length;n++){var o=new i(e[n],this);s.push(o)}return s},p._filterFindItemElements=function(t){return s.filterFindElements(t,this.options.itemSelector)},p.getItemElements=function(){return this.items.map(function(t){return t.element})},p.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},p._init=p.layout,p._resetLayout=function(){this.getSize()},p.getSize=function(){this.size=i(this.element)},p._getMeasurement=function(t,e){var s,n=this.options[t];n?("string"==typeof n?s=this.element.querySelector(n):n instanceof HTMLElement&&(s=n),this[t]=s?i(s)[e]:n):this[t]=0},p.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},p._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},p._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var s=this._getItemLayoutPosition(t);s.item=t,s.isInstant=e||t.isLayoutInstant,i.push(s)},this),this._processLayoutQueue(i)}},p._getItemLayoutPosition=function(){return{x:0,y:0}},p._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},p.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],s=e&&e[2];return i.length?(i=parseFloat(i))*(u[s]||1):0}(t),this.stagger)},p._positionItem=function(t,e,i,s,n){s?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},p._postLayout=function(){this.resizeContainer()},p.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},p._getContainerSize=d,p._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},p._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}function s(){++r==o&&i()}var n=this,o=e.length;if(e&&o){var r=0;e.forEach(function(e){e.once(t,s)})}else i()},p.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),a)if(this.$element=this.$element||a(this.element),e){var n=a.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},p.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},p.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},p.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},p.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){s.removeFrom(this.stamps,t),this.unignore(t)},this)},p._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=s.makeArray(t)):void 0},p._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},p._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},p._manageStamp=d,p._getElementOffset=function(t){var e=t.getBoundingClientRect(),s=this._boundingRect,n=i(t);return{left:e.left-s.left-n.marginLeft,top:e.top-s.top-n.marginTop,right:s.right-e.right-n.marginRight,bottom:s.bottom-e.bottom-n.marginBottom}},p.handleEvent=s.handleEvent,p.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},p.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},p.onresize=function(){this.resize()},s.debounceMethod(o,"onresize",100),p.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},p.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},p.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},p.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},p.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},p.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},p.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},p.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},p.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},p.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},p.getItems=function(t){t=s.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},p.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),s.removeFrom(this.items,t)},this)},p.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},o.data=function(t){var e=(t=s.getQueryElement(t))&&t.outlayerGUID;return e&&c[e]},o.create=function(t,e){var i=r(o);return i.defaults=s.extend({},o.defaults),s.extend(i.defaults,e),i.compatOptions=s.extend({},o.compatOptions),i.namespace=t,i.data=o.data,i.Item=r(n),s.htmlInit(i,t),a&&a.bridget&&a.bridget(t,i),i};var u={ms:1,s:1e3};return o.Item=n,o}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var s=i.prototype;return s._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},s.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,o=n/s,r=s-n%s;o=Math[r&&1>r?"round":"floor"](o),this.cols=Math.max(o,1)},s.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},s._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var s=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),n={x:this.columnWidth*s.col,y:s.y},o=s.y+t.size.outerHeight,r=i+s.col,l=s.col;r>l;l++)this.colYs[l]=o;return n},s._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},s._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,s=0;i>s;s++)e[s]=this._getColGroupY(s,t);return e},s._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},s._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var s=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=s?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},s._manageStamp=function(t){var i=e(t),s=this._getElementOffset(t),n=this._getOption("originLeft")?s.left:s.right,o=n+i.outerWidth,r=Math.floor(n/this.columnWidth);r=Math.max(0,r);var l=Math.floor(o/this.columnWidth);l-=o%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var a=(this._getOption("originTop")?s.top:s.bottom)+i.outerHeight,d=r;l>=d;d++)this.colYs[d]=Math.max(a,this.colYs[d])},s._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},s._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},s.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=i.length;function n(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var o,r=!1;function l(){if(!r){r=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o=200==Math.round(t(s.width)),a.isBoxSizeOuter=o,i.removeChild(e)}}function a(e){if(l(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++)t[i[e]]=0;return t}();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,h=0;h<s;h++){var c=i[h],p=r[c],u=parseFloat(p);a[c]=isNaN(u)?0:u}var f=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,v=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,b=d&&o,S=t(r.width);!1!==S&&(a.width=S+(b?0:f+v));var _=t(r.height);return!1!==_&&(a.height=_+(b?0:m+w)),a.innerWidth=a.width-(f+v),a.innerHeight=a.height-(m+w),a.outerWidth=a.width+g,a.outerHeight=a.height+y,a}}return a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i]+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(s){e(t,s)&&n.push(t);for(var i=t.querySelectorAll(s),o=0;o<i.length;o++)n.push(i[o])}else n.push(t)}),n},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];clearTimeout(t);var e=arguments,o=this;this[n]=setTimeout(function(){s.apply(o,e),delete o[n]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),r="data-"+o,l=document.querySelectorAll("["+r+"]"),a=document.querySelectorAll(".js-"+o),d=i.makeArray(l).concat(i.makeArray(a)),h=r+"-options",c=t.jQuery;d.forEach(function(t){var i,o=t.getAttribute(r)||t.getAttribute(h);try{i=o&&JSON.parse(o)}catch(o){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+o))}var l=new e(t,i);c&&c.data(t,s,l)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickitylf=t.Flickitylf||{},t.Flickitylf.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},s.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=e(this.element)},s.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},s.updateTarget=s.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},s.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickitylf=t.Flickitylf||{},t.Flickitylf.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){t.select()})},e.unselect=function(){this.cells.forEach(function(t){t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickitylf=t.Flickitylf||{},t.Flickitylf.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s],o=e>0?i:0;n.wrapShift(o),e-=n.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}};return i}),function(t,e){if("function"==typeof define&&define.amd)define("flickitylf/js/flickitylf",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,s,n,o,r,l){return e(t,i,s,n,o,r,l)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickitylf;t.Flickitylf=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,s,n,o,r){var l=t.jQuery,a=t.getComputedStyle,d=t.console;function h(t,e){for(t=s.makeArray(t);t.length;)e.appendChild(t.shift())}var c=0,p={};function u(t,e){var i=s.getQueryElement(t);if(i){if(this.element=i,this.element.flickitylfGUID){var n=p[this.element.flickitylfGUID];return n&&n.option(e),n}l&&(this.$element=l(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e),this._create()}else d&&d.error("Bad element for Flickitylf: "+(i||t))}u.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},u.createMethods=[];var f=u.prototype;s.extend(f,e.prototype),f._create=function(){var e=this.guid=++c;for(var i in this.element.flickitylfGUID=e,p[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickitylf-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}u.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){s.extend(this.options,t)},f.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickitylf-enabled"),this.options.rightToLeft&&this.element.classList.add("flickitylf-rtl"),this.getSize(),h(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var t=document.createElement("div");t.className="flickitylf-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return s.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new n(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var s=this.cells.length,n=t;n<s;n++){var o=this.cells[n];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach(function(s,n){if(t.cells.length){var r=t.outerWidth-t.firstMargin+(s.size.outerWidth-s.size[e]);i.call(this,n,r)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(s)}else t.addCell(s)},this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){for(var s=[];t>0;){var n=this.cells[e];if(!n)break;s.push(n),e+=i,t-=n.size.outerWidth}return s},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],n=s<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){n?t.target=s*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},f.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),l&&this.$element){var n=t+=this.options.namespaceJQueryEvents?".flickitylf":"";if(e){var o=new l.Event(e);o.type=t,n=o}this.$element.trigger(n,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=s.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=s.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),r=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t&&this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},f.selectCell=function(t,e,i){var s=this.queryCell(t);if(s){var n=this.getCellSlideIndex(s);this.select(n,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=s.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){return this.getCell(t)||(t=s.getParent(t,".flickitylf-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?s.modulo(o,i):o,l=this.slides[r];l&&(n=n.concat(l.getCellElements()))}return n},f.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(u,"onresize",150),f.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=a(this.element,":after").content.indexOf("flickitylf")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=u.keyboardHandlers[t.keyCode];i&&i.call(this)}},u.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickitylf-enabled"),this.element.classList.remove("flickitylf-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickitylf"),delete this.element.flickitylfGUID,delete p[this.guid]},s.extend(f,r),u.data=function(t){var e=(t=s.getQueryElement(t))&&t.flickitylfGUID;return e&&p[e]},s.htmlInit(u,"flickitylf"),l&&l.bridget&&l.bridget("flickitylf",u),u.setJQuery=function(t){l=t},u.Cell=n,u.Slide=o,u}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function i(){}var s=i.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){var s=(i=void 0===i||i)?"addEventListener":"removeEventListener",n="mousedown";"ontouchstart"in t?n="touchstart":t.PointerEvent&&(n="pointerdown"),e[s](n,this)},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=n[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},s._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},s.pointerDone=function(){},s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},i.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},i}),!function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function i(){}var s=i.prototype=Object.create(e.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)},s._bindHandles=function(e){for(var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",s=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=s)}},s._touchActionValue="none",s.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var n={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return s.okayPointerDown=function(t){var e=n[t.target.nodeName],i=o[t.target.type],s=!e||i;return s||this._pointerReset(),s},s.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},s._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},s.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},s._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},s._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},s.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},s._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},s.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},s._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},s.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},s.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},s._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},s.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/drag",["./flickitylf","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unidragger"),require("fizzy-ui-utils")):t.Flickitylf=e(t,t.Flickitylf,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,s){s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var n=e.prototype;s.extend(n,i.prototype),n._touchActionValue="pan-y",n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(e,i){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=r(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i)):this._pointerDownDefault(e,i)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function r(){return{x:t.pageXOffset,y:t.pageYOffset}}return n.pointerDownFocus=function(t){o[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,s=o[t.target.nodeName];e||i||s||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var n=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<r?.5*(n+r):n}this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),s=this._getClosestResting(t,e,-1);return i.distance<s.distance?i.index:s.index},n._getClosestResting=function(t,e,i){for(var s=this.selectedIndex,n=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,n)&&(s+=i,n=e,null!==(e=this.getSlideDistance(-t,s)));)e=Math.abs(e);return{distance:n,index:s-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&i>1,o=n?s.modulo(e,i):e,r=this.slides[o];if(!r)return null;var l=n?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+l)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),s=i&&i.element,n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,n])},n.onscroll=function(){var t=r(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/prev-next-button",["./flickitylf","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.Flickitylf,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,s){"use strict";var n="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickitylf-button flickitylf-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(n,"svg");t.setAttribute("class","flickitylf-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(n,"path"),i=function(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.handleEvent=s.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/page-dots",["./flickitylf","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.Flickitylf,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,s){function n(t){this.parent=t,this._create()}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickitylf-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},n.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},n.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},n.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],s=this.dots.length,n=s+t,o=s;o<n;o++){var r=document.createElement("li");r.className="dot",r.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(r),i.push(r)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},n.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},n.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},n.prototype.onTap=n.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=n,s.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new n(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=n,e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickitylf"],function(t,i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickitylf")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickitylf)}(window,function(t,e,i){function s(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(t.prototype),s.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},s.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var n=i.prototype;return n._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/add-remove-cell",["./flickitylf","fizzy-ui-utils/utils"],function(i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("fizzy-ui-utils")):e(t,t.Flickitylf,t.fizzyUIUtils)}(window,function(t,e,i){var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var n=function(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}(i),o=e==s;if(o)this.slider.appendChild(n);else{var r=this.cells[e].element;this.slider.insertBefore(n,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var s=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);s=Math.min(e,s),i.removeFrom(this.cells,t)},this),this.cellChange(s,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/lazyload",["./flickitylf","fizzy-ui-utils/utils"],function(i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("fizzy-ui-utils")):e(t,t.Flickitylf,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var s=e.prototype;function n(t,e){this.img=t,this.flickitylf=e,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,s=this.getAdjacentCellElements(e),o=[];s.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickitylf-lazyload"),s=t.getAttribute("data-flickitylf-lazyload-src"),n=t.getAttribute("data-flickitylf-lazyload-srcset");if(e||s||n)return[t]}var o=t.querySelectorAll("img[data-flickitylf-lazyload], img[data-flickitylf-lazyload-src], img[data-flickitylf-lazyload-srcset]");return i.makeArray(o)}(t);o=o.concat(e)}),o.forEach(function(t){new n(t,this)},this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickitylf-lazyload")||this.img.getAttribute("data-flickitylf-lazyload-src"),e=this.img.getAttribute("data-flickitylf-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickitylf-lazyload"),this.img.removeAttribute("data-flickitylf-lazyload-src"),this.img.removeAttribute("data-flickitylf-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickitylf-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickitylf-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickitylf.getParentCell(this.img),s=i&&i.element;this.flickitylf.cellSizeChange(s),this.img.classList.add(e),this.flickitylf.dispatchEvent("lazyLoad",t,s)},e.LazyLoader=n,e}),!function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.flickitylf=t.flickitylf||{},t.flickitylf.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},s.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=e(this.element)},s.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},s.updateTarget=s.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},s.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.flickitylf=t.flickitylf||{},t.flickitylf.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){t.select()})},e.unselect=function(){this.cells.forEach(function(t){t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.flickitylf=t.flickitylf||{},t.flickitylf.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s],o=e>0?i:0;n.wrapShift(o),e-=n.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}};return i}),function(t,e){if("function"==typeof define&&define.amd)define("flickitylf/js/flickitylf",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,s,n,o,r,l){return e(t,i,s,n,o,r,l)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.flickitylf;t.flickitylf=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,s,n,o,r){var l=t.jQuery,a=t.getComputedStyle,d=t.console;function h(t,e){for(t=s.makeArray(t);t.length;)e.appendChild(t.shift())}var c=0,p={};function u(t,e){var i=s.getQueryElement(t);if(i){if(this.element=i,this.element.flickitylfGUID){var n=p[this.element.flickitylfGUID];return n&&n.option(e),n}l&&(this.$element=l(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e),this._create()}else d&&d.error("Bad element for flickitylf: "+(i||t))}u.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},u.createMethods=[];var f=u.prototype;s.extend(f,e.prototype),f._create=function(){var e=this.guid=++c;for(var i in this.element.flickitylfGUID=e,p[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickitylf-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}u.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){s.extend(this.options,t)},f.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickitylf-enabled"),this.options.rightToLeft&&this.element.classList.add("flickitylf-rtl"),this.getSize(),h(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var t=document.createElement("div");t.className="flickitylf-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return s.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new n(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var s=this.cells.length,n=t;n<s;n++){var o=this.cells[n];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach(function(s,n){if(t.cells.length){var r=t.outerWidth-t.firstMargin+(s.size.outerWidth-s.size[e]);i.call(this,n,r)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(s)}else t.addCell(s)},this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){for(var s=[];t>0;){var n=this.cells[e];if(!n)break;s.push(n),e+=i,t-=n.size.outerWidth}return s},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],n=s<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){n?t.target=s*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},f.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),l&&this.$element){var n=t+=this.options.namespaceJQueryEvents?".flickitylf":"";if(e){var o=new l.Event(e);o.type=t,n=o}this.$element.trigger(n,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=s.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=s.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),r=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t&&this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},f.selectCell=function(t,e,i){var s=this.queryCell(t);if(s){var n=this.getCellSlideIndex(s);this.select(n,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=s.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){return this.getCell(t)||(t=s.getParent(t,".flickitylf-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?s.modulo(o,i):o,l=this.slides[r];l&&(n=n.concat(l.getCellElements()))}return n},f.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(u,"onresize",150),f.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=a(this.element,":after").content.indexOf("flickitylf")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=u.keyboardHandlers[t.keyCode];i&&i.call(this)}},u.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickitylf-enabled"),this.element.classList.remove("flickitylf-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickitylf"),delete this.element.flickitylfGUID,delete p[this.guid]},s.extend(f,r),u.data=function(t){var e=(t=s.getQueryElement(t))&&t.flickitylfGUID;return e&&p[e]},s.htmlInit(u,"flickitylf"),l&&l.bridget&&l.bridget("flickitylf",u),u.setJQuery=function(t){l=t},u.Cell=n,u.Slide=o,u}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/drag",["./flickitylf","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unidragger"),require("fizzy-ui-utils")):t.flickitylf=e(t,t.flickitylf,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,s){s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var n=e.prototype;s.extend(n,i.prototype),n._touchActionValue="pan-y",n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(e,i){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=r(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i)):this._pointerDownDefault(e,i)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function r(){return{x:t.pageXOffset,y:t.pageYOffset}}return n.pointerDownFocus=function(t){o[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,s=o[t.target.nodeName];e||i||s||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var n=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);n=n>o?.5*(n+o):n;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);n=n<r?.5*(n+r):n}this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),s=this._getClosestResting(t,e,-1);return i.distance<s.distance?i.index:s.index},n._getClosestResting=function(t,e,i){for(var s=this.selectedIndex,n=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,n)&&(s+=i,n=e,null!==(e=this.getSlideDistance(-t,s)));)e=Math.abs(e);return{distance:n,index:s-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&i>1,o=n?s.modulo(e,i):e,r=this.slides[o];if(!r)return null;var l=n?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+l)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),s=i&&i.element,n=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,n])},n.onscroll=function(){var t=r(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/prev-next-button",["./flickitylf","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.flickitylf,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,s){"use strict";var n="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickitylf-button flickitylf-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(n,"svg");t.setAttribute("class","flickitylf-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(n,"path"),i=function(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.handleEvent=s.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/page-dots",["./flickitylf","unipointer/unipointer","fizzy-ui-utils/utils"],function(i,s,n){return e(t,i,s,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("unipointer"),require("fizzy-ui-utils")):e(t,t.flickitylf,t.Unipointer,t.fizzyUIUtils)}(window,function(t,e,i,s){function n(t){this.parent=t,this._create()}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickitylf-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},n.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},n.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},n.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],s=this.dots.length,n=s+t,o=s;o<n;o++){var r=document.createElement("li");r.className="dot",r.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(r),i.push(r)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},n.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},n.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},n.prototype.onTap=n.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=n,s.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new n(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=n,e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickitylf"],function(t,i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickitylf")):e(t.EvEmitter,t.fizzyUIUtils,t.flickitylf)}(window,function(t,e,i){function s(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(t.prototype),s.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},s.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var n=i.prototype;return n._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},n.playPlayer=function(){this.player.play()},n.stopPlayer=function(){this.player.stop()},n.pausePlayer=function(){this.player.pause()},n.unpausePlayer=function(){this.player.unpause()},n.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},n.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},n.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/add-remove-cell",["./flickitylf","fizzy-ui-utils/utils"],function(i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("fizzy-ui-utils")):e(t,t.flickitylf,t.fizzyUIUtils)}(window,function(t,e,i){var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var n=function(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}(i),o=e==s;if(o)this.slider.appendChild(n);else{var r=this.cells[e].element;this.slider.insertBefore(n,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var s=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);s=Math.min(e,s),i.removeFrom(this.cells,t)},this),this.cellChange(s,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/lazyload",["./flickitylf","fizzy-ui-utils/utils"],function(i,s){return e(t,i,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickitylf"),require("fizzy-ui-utils")):e(t,t.flickitylf,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var s=e.prototype;function n(t,e){this.img=t,this.flickitylf=e,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,s=this.getAdjacentCellElements(e),o=[];s.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickitylf-lazyload"),s=t.getAttribute("data-flickitylf-lazyload-src"),n=t.getAttribute("data-flickitylf-lazyload-srcset");if(e||s||n)return[t]}var o=t.querySelectorAll("img[data-flickitylf-lazyload], img[data-flickitylf-lazyload-src], img[data-flickitylf-lazyload-srcset]");return i.makeArray(o)}(t);o=o.concat(e)}),o.forEach(function(t){new n(t,this)},this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickitylf-lazyload")||this.img.getAttribute("data-flickitylf-lazyload-src"),e=this.img.getAttribute("data-flickitylf-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickitylf-lazyload"),this.img.removeAttribute("data-flickitylf-lazyload-src"),this.img.removeAttribute("data-flickitylf-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickitylf-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickitylf-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickitylf.getParentCell(this.img),s=i&&i.element;this.flickitylf.cellSizeChange(s),this.img.classList.add(e),this.flickitylf.dispatchEvent("lazyLoad",t,s)},e.LazyLoader=n,e}),function(t,e){"function"==typeof define&&define.amd?define("flickitylf/js/index",["./flickitylf","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickitylf"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t});const s=(t,e)=>{money_format="${{amount}}","undefined"!=typeof lfMoneyFormat&&""!==lfMoneyFormat&&(money_format=lfMoneyFormat),"string"==typeof t&&(t=t.replace(".",""));var i="",s=/\{\{\s*(\w+)\s*\}\}/,n=e||money_format;function o(t,e){return void 0===t?e:t}function r(t,e,i,s){if(e=o(e,2),i=o(i,","),s=o(s,"."),isNaN(t)||null==t)return 0;var n=(t=(t/100).toFixed(e)).split(".");return n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(n[1]?s+n[1]:"")}switch(n.match(s)[1]){case"amount_with_decimal_separator":case"amount":i=r(t,2);break;case"amount_no_decimals":i=r(t,0);break;case"amount_with_comma_separator":i=r(t,2,".",",");break;case"amount_no_decimals_with_space_separator":i=r(t,0," ",",");break;case"amount_with_space_separator":i=r(t,2," ",",");break;case"amount_with_period_and_space_separator":i=r(t,2," ",".");break;case"amount_with_apostrophe_separator":i=r(e,2,"'",".");break;case"amount_no_decimals_with_comma_separator":i=r(t,0,".",",")}return n.replace(s,i)};window.lfFormatMoney=s;const n=(t,e="",i="lf_animate__")=>new Promise((s,n)=>{if(t.classList.contains("lf-appear")||t.classList.contains("lf-appear-done")){e.length||(e=t.dataset.animation)&&""!=e||(e="fadeIn");var o="lf-appear-childs";t.classList.contains("lf-appear-done")&&(o+="-done");const l=`${i}${e}`;if(t.classList.contains(o)){t.classList.remove("lf-appear-childs"),t.classList.add("lf-appear-childs-done");const a=t.querySelectorAll(".lf-appear-child");for(const d of a)d.classList.remove("lf-appear-child"),d.classList.add(`${i}animated`,l),d.addEventListener("animationend",r,{once:!0})}else t.classList.add(`${i}animated`,l),t.addEventListener("animationend",r,{once:!0});function r(t){t.stopPropagation(),t.target.classList.remove(`${i}animated`,l),t.target.classList.add(`${i}done`),s("Animation ended")}t.classList.contains("lf-appear")&&(t.classList.add("lf-appear-done"),t.classList.remove("lf-appear"))}});function lfGallery(t,e={}){if(e={...e},!t.classList.contains("lf-active")){lfUtils.documentEvent("lookfyStart",{galleryElement:t,options:e});var i,s=parseInt(t.dataset.id)||t.dataset.id;if(t.classList.add("lf-active"),!s)return;let n={id:s,link:lfUtils.baseUrl+"gallery/"+s};const o={shop:Shopify.shop,url:window.location.href.split("#")[0],...lfUtils.isMultiLang()&&{lang:lfUtils.lfLocale,country:lfUtils.lfCountry},...t.classList.contains("lookfy-gallery-reload")&&{reload:!0},page_type:window.lfPageType,handle:window.lfHandle,page_id:window.lfPageId};if(n.formData=o,t.classList.contains("lf-gallery-site")){const e=t.querySelector(".kt-type-main"),o=t.querySelectorAll("link"),r=document.head;o.forEach(t=>{r.appendChild(t)});const l=t.dataset.section;n={...n,sectionId:l,layout:lfUtils.lfLayout(e.dataset.type),type:e.dataset.type,settings:JSON.parse(t.dataset.settings||"{}"),h_settings:JSON.parse(t.dataset.h_settings||"{}"),t_settings:JSON.parse(t.dataset.t_settings||"{}"),discount:JSON.parse(t.dataset.discount||"{}"),setup:JSON.parse(t.dataset.setup||"{}"),analytic:"true"===t.dataset.analytic,source:t.dataset.source,skin:t.dataset.skin,popup:t.dataset.popup||"atc"};const{l_column:a,l_embedded:d,l_carousel:h,l_multi:c,spacing:p}=n.layout;n.animation=["carousel","column_carousel"].includes(n.type)||a?"none":n.settings.animate,n.layout.l_carousel&&(n.c_settings=JSON.parse(t.dataset.carousel)),lfGaleryCustom(t),i={type:n.type,shop:{setup:n.setup,button_action:t.dataset.popup||"atc"}},window.lfGalleriesInfo=window.lfGalleriesInfo||{},window.lfGalleriesInfo[s]=i,t.querySelectorAll(".lf-image-item").forEach((e,s)=>{if(lfUtils.documentEvent("lookfyGalleryItem",{itemElement:e,galleryElement:t,galleryData:n,lightbox:!1,position:s}),!a){e.querySelectorAll(".kt-hotspots-wrapper .kt-hotspot-item").forEach((s,o)=>{const r=s.querySelector(".hotspot-item-detail");var a=`kt-${l}-${s.dataset.did}-form-${r.dataset.id}`;const d=s.dataset.id,h={type:s.dataset.type,id:s.dataset.did};"product"==s.dataset.type&&(h.product={id:r.dataset.id});const c=e.querySelector(".lf-productItems");cloneHotspot(h,n,r,o,c,t,i,a,d)})}});if(e.querySelectorAll(".kt-hotspots-wrapper .hotspot-item-type-product").forEach(e=>{const s=e.closest(".kt-hotspot-item"),n=s.dataset.id,o=e.querySelector(".hotspot-item-price"),r=e.querySelector(".hotspot-item-image"),a=e.querySelector(".hotspot-item-title"),d={id:s.dataset.did,product:{id:e.dataset.id,handle:e.dataset.handle}};if(void 0===window.lfProducts||void 0===window.lfProducts[d.product.id]){const s=`kt-${l}-${d.id}-form-${d.product.id}`;var h=lfUtils.getLinkLang(d.product.handle);fetchProductDetail(l,t,i,s,n,r,e,h,a,o,d)}else lfHotspotProduct(l,null,window.lfProducts[e.dataset.id],null,o,r)}),a){t.classList.add("lf-shopthelook");const{desktop_columns:s,tablet_columns:o,mobile_columns:r,settings:a}=n.settings;e.querySelectorAll(".kt-lcolumn-item").forEach((e,a)=>{const d=e.querySelector(".kt-products-column"),p=lfUtils.createDomEl("div","hotspot-item-products-list"),u=lfUtils.createDomEl("div",`kt-row kt-${s}-col-lg kt-${o}-col-md kt-${r}-col-sm`,"",{"data-lg":s,"data-md":o,"data-sm":r});"default_column"==n.type?(d.appendChild(u),embeddedClass="kt-column-row"):c||h?(u.classList.add("kt-carousel"),h&&"multiple_columns"!=n.type?(u.classList.remove("kt-row"),embeddedClass="kt-carousel-column-row"):embeddedClass="kt-multi-column-row",d.appendChild(u)):d.appendChild(p);const f=e.querySelectorAll(".kt-hotspots-wrapper .kt-hotspot-item");if(f.length&&n.settings.alltocart){const e=t.querySelector(".gatc");let i=n.settings.alltocart_message||"";e&&e.innerHTML&&e.innerHTML.length&&(i=e.innerHTML),renderAllToCart(d,i)}const m="default_embedded"==n.type?p:u;f.forEach((e,s)=>{const o=e.querySelector(".hotspot-item-detail"),r=`kt-${l}-${e.dataset.did}-form-${o.dataset.id}`,a=e.dataset.id,d={type:e.dataset.type,id:e.dataset.did};"product"==e.dataset.type&&(d.product={id:o.dataset.id}),cloneHotspot(d,n,o,s,m,t,i,r,a)})})}const u=lfUtils.render_icon(n.h_settings.icon);if(u&&"number"!==n.h_settings.icon){e.querySelectorAll(".kt-hotspots-wrapper .kt-hotspot-item").forEach(t=>{const e=t.querySelector(".hotspot-item-icon span");e&&(e.innerHTML=u)})}lfGaleryEvent(t,n),t.classList.contains("publish-status")&&lfUtils.getJson(lfUtils.baseUrl+"publish/"+window.lfShopID+"?url="+encodeURI(window.location.href.split("#")[0]),t=>{console.log(t)})}else fetch(n.link,{method:"POST",body:JSON.stringify(o)}).then(t=>{if(404==t.status)throw new Error(s+" Not_Found");return t.json()}).then(e=>{if(e&&!e.error){if(window.lfGalleriesInfo=window.lfGalleriesInfo||{},window.lfGalleriesInfo[s]=e,void 0===window.lfMoneyFormat&&(window.lfMoneyFormat=e.shop.moneyFormat),void 0===window.lfShopLang&&(window.lfShopLang=e.shop.lang,window.lfShopTrans=e.shop.trans),"auto"==s&&(s=e.id,t.dataset.id=s),e.custom_css?.length){let t=`.lookfy-gallery[data-id="${n.id}"]`;lfUtils.add_custom_css(e.custom_css.replaceAll(/{gallery}/g,t))}const p=lfUtils.lfLayout(e.type),{l_column:u,l_embedded:f,l_multi:m,l_carousel:g,l_spacing:y}=p,v=lfMakeID(),{settings:w,hotspot_settings:b,tooltip_settings:S,button:_,discount:E}=e,C=["carousel","column_carousel"].indexOf(e.type)>=0||u?"none":w.animate,x=lfUtils.render_space(w.column_spacing);w.visibility&&w.visibility.length&&w.visibility.forEach(e=>t.classList.add(`lf-hide-${e}`)),u&&t.classList.add("lf-shopthelook");var i=[];t.setAttribute("id",`lfGallery-${v}`),n={...n,layout:{...p,spacing:x},type:e.type,source:e.source,analytic:e.analytic,sectionId:v,settings:w,h_settings:b,t_settings:S,animation:C,popup:e.shop.button_action},e.skin&&Object.keys(e.skin).length>0&&(n.skin=e.skin,t.classList.add("lf-skin-"+n.skin.id),lfUtils.add_custom_css(e.skin.css)),e.shopColors&&e.shopColors.length&&e.shopColors.map(t=>{i.push(`--lf-color-${t.id}: ${t.color}`)});var o=[];if(g){o.push(`dot-${w.dotsTheme}`,`dot-${w.dotsPos}`,`dot-${w.dotStyle}`,`pn-${w.pnStyle}`,`pn-${w.pnTheme}`),n.carousel={autoPlay:w.autoplay,pauseAutoPlayOnHover:w.pause_hover,speed:w.speed};const e=lfUtils.render_carousel(w);Object.keys(e).forEach(t=>{i.push(`${t}: ${e[t]}`)}),t.dataset.carousel=JSON.stringify(n.carousel)}const{desktop_columns:k,tablet_columns:L,mobile_columns:z}=w;t.dataset.popup=e.shop.button_action,t.dataset.video=e.shop.video,t.dataset.analytic=e.analytic,t.dataset.fbtracking=e.shop.fbTracking,t.dataset.setup=JSON.stringify(e.shop.setup),t.dataset.thirdparty=JSON.stringify(e.shop.thirdParty),t.dataset.settings=JSON.stringify(w),t.dataset.h_settings=JSON.stringify(b),t.dataset.t_settings=JSON.stringify(S),t.dataset.discount=JSON.stringify(E),t.dataset.section=v,lfGaleryCustom(t);var r="0";"circle"==b.type?r=r="50%":"round"==b.type&&(r=r="3px");const D=b.effect?"block":"none",{sale_background:P,sale_text:I,soldout_text:A,soldout_background:U,radius:T}=e.shop.setup;i.push(`--col-lg: ${k}`,`--col-md: ${L}`,`--col-sm: ${z}`,`--hotspot-background: ${b.background}`,`--hotspot-border: ${b.border_color}`,`--hotspot-icon_color: ${b.icon_color}`,`--hotspot-effect: ${b.effect}-aninmation`,`--hotspot-icon: ${b.icon}`,`--hotspot-radius: ${r}`,`--hotspot-effect-display: ${D}`,`--kt-button-background: ${_.background}`,`--kt-button-color: ${_.color}`,`--kt-button-border: ${_.borderColor}`,`--kt-button-borderw: ${_.borderWidth}`,`--kt-button-radius: ${_.borderRadius}`,`--kt-button-hover-background: ${_.backgroundHover}`,`--kt-button-hover-color: ${_.colorHover}`,`--kt-button-hover-border: ${_.borderColorHover}`,`--kt-button-hover-radius: ${_.borderRadiusHover}`,`--color-badge-sale-background: ${P}`,`--color-badge-sale-text: ${I}`,`--color-badge-soldout-background: ${U}`,`--color-badge-soldout-text: ${A}`),T&&i.push(`--badge-corner-radius: ${T}`),(y||"default_column"==e.type)&&(i.push(`--grid-mobile-spacing: ${x[0]}px`),i.push(`--grid-desktop-spacing: ${x[1]}px`)),lfUtils.add_custom_css(`#lfGallery-${v},.shopify-section-${v}{${i.join(";")}}`);const M=parseInt(w.glayout)||0;if(0!=M&&!f&&"default_column"!=e.type){var l=lfUtils.render_header(M,e);t.appendChild(l)}lfUtils.lfLayoutMasonry(e.type)&&(t.dataset.guttermobile=x[0],t.dataset.gutter=x[1]);const q=e.images;var a=lfUtils.createDomEl("div",`kt-type-main kt-type-${e.type} kt-space-${w.column_spacing}`,"",{id:"lookfy-gallery-main-"+e.id});if(a.setAttribute("data-type",e.type),o.forEach(t=>{a.classList.add(t)}),"carousel"==e.type&&a.classList.add("kt-carousel"),"gallery"==e.group&&!g&&e.filters?.length){var d=lfUtils.createDomEl("ul","lf-filters",lfUtils.filter_link(null,!0));t.appendChild(d),e.filters.forEach(t=>{var e=lfUtils.createDomEl("li","lf-filter-item",lfUtils.filter_link(t));d.appendChild(e)})}if(t.appendChild(a),f?a.setAttribute("data-img",lfUtils.imgEmbedded):("default_column"==e.type||m||g)&&a.setAttribute("data-img",lfUtils.imgColumn),C&&"none"!=C&&!u&&a.classList.add("lf-appear","lf-appear-childs"),f?a.classList.add("kt-vertical-"+w.vertical):("default_column"==e.type||m||g)&&a.classList.add("kt-portrait-"+w.portrait),y&&"list"!=e.type&&"multiple_columns"!=e.type){"carousel"!=e.type&&"column_carousel"!=e.type&&a.classList.add("kt-row");const i=[`kt-${k}-col-lg`,`kt-${L}-col-md`,`kt-${z}-col-sm`];a.classList.add(...i),Object.assign(t.dataset,{lg:k,md:L,sm:z})}if(lfImagesRender(t,n,q,a,e.skin),["row","list","masonry","grid"].includes(e.type)&&e.cursor){var h=lfUtils.createDomEl("div","kt-loadmore","",{"data-page":0});t.appendChild(h);var c=lfUtils.createDomEl("a","kt-button",`<span>${lfUtils.getCurrentLange("load_more")}</span>${lfUtils.loading}`,{href:"#"});h.appendChild(c)}lfGaleryEvent(t,n)}else e.error&&(console.log("Error:",s+".",e.error),lfUtils.isAdmin()&&lfUtils.lfErrorPlaceholder(t,e.error))}).catch(e=>{console.log("Error fetching gallery data:",e),t.classList.add("lookfy-error"),"Not_Found"==e&&t.classList.add("lookfy-404"),lfUtils.isAdmin()&&lfUtils.lfErrorPlaceholder(t,e)}).finally(()=>{const e=lfUtils.lookfy_responsive(t);e&&t.classList.add(e)})}}function lfMakeID(t=6){const e="abcdefghijklmnopqrstuvwxyz",i="0123456789";let s="";for(let n=0;n<t;n++)s+=n<t/2?e.charAt(Math.floor(26*Math.random())):i.charAt(Math.floor(10*Math.random()));return s}function lfImagesRender(t,i,s,n,o,r=!1,l=!1,a=0){const d=window.lfGalleriesInfo&&window.lfGalleriesInfo[i.id]?window.lfGalleriesInfo[i.id]:{};var h=[],c=document.createDocumentFragment();const p=t.dataset.section,{settings:u,t_settings:f,h_settings:m,layout:g,animation:y}=i,{l_column:v,l_embedded:w,l_carousel:b,l_multi:S,spacing:_}=g,{desktop_columns:E,tablet_columns:C,mobile_columns:x}=u;var k=lfUtils.render_icon(m.icon);const L=(parseInt(u.itemPerPage,10)||20)*a,z=!lfUtils.isMultiLang()||!lfUtils.isMainLang();if(s.forEach((s,a)=>{const g=L+a+1;var _=!0;const D=s.hotspots;if(s.handle&&(s.link=s.collection?lfUtils.getLinkLang(s.handle,"collections"):lfUtils.getLinkLang(s.handle)),s.handle&&z||s.handle&&"products"==i.source){_=!1;const e=s.product?".js":".json";lfUtils.getJson(s.link+e,e=>{if(s.product)Object.assign(s,{title:e.title,desc:e.description,vendor:e.vendor,badges:lfUtils.render_badges(e),tags:e.tags?.join(", "),type:e.type,price:lfUtils.render_price(e,lfShop.setup.price,!1)});else{const{title:t,description:i,products_count:n=""}=e.collection;Object.assign(s,{title:t,desc:i,products_count:n})}lfUtils.documentEvent("lookfyGalleryItem",{itemElement:I,galleryElement:t,galleryData:i,lightbox:!1,skin:o,image:s,position:g,reload:!0})},t=>{console.log("Error",t)})}const P={"data-width":s.width,"data-height":s.height,id:p+"-gallery"+i.id+"-img"+g};s.drawSize&&Object.keys(s.drawSize).length>0&&(P["data-draw"]=JSON.stringify(s.drawSize));const I=lfUtils.createDomEl("div","","",P);if(l?(c.appendChild(I),h.push(I)):n.appendChild(I),v)I.classList.add("kt-lcolumn-item"),w?I.classList.add("kt-embedded-item"):("default_column"==i.type||S||b)&&I.classList.add("kt-columns-item"),y&&"none"!=y&&I.classList.add("lf-appear","lf-appear-childs");else if(I.classList.add("kt-grid__item","lf-image-item",...void 0!==s.did?[`filter-${s.did}`]:[]),y&&"none"!=y&&(I.classList.add("lf-appear-child"),I.style.setProperty("animation-delay",a*lfUtils.aniDelay+"ms")),"grid"==i.type){const t=s.size.split(":"),e=["one","two","three"],i=["one","two","three"];I.classList.add(`masonry-${e[t[0]-1]}-column`),I.classList.add(`masonry-${i[t[1]-1]}-row`),I.style.setProperty("--column",t[0]),I.style.setProperty("--row",t[1]),I.dataset.column=t[0],I.dataset.row=t[1]}else"carousel"==i.type&&I.classList.add("carousel-cell");const A=lfUtils.createDomEl("div","kt-image-item-box");"row"!=i.type&&"carousel"!=i.type&&"list"!=i.type||"adapt"==u.size||(A.classList.add("kt-ratio"),A.style.setProperty("--ratio-percent",lfUtils.render_ratio(u.size)));const U=lfUtils.createDomEl("img","kt-image-item-main","",{width:s.width,height:s.height,loading:"lazy"}),T=lfUtils.createDomEl("video","kt-image-item-main"),M=s.video&&lfShop.video,q=document.createElement("img");var $="";s.image_second&&s.image_second.url&&!M&&(q.classList.add("kt-image-item-second"),q.width=s.image_second.width,q.height=s.image_second.height,q.setAttribute("loading","lazy"),$=s.image_second.url);var F=s.url;if("list"!=i.type){var O=parseInt(u.thumbnailwidth);if(isNaN(O)&&(O=1e3),"grid"==i.type){var N=s.size.split(":");O*=Math.max(parseInt(N[0]),parseInt(N[1]))}F=lfUtils.flGetSizedImageUrl(F,O+"x"),$&&($=lfUtils.flGetSizedImageUrl($,O+"x"))}U.src=F,U.alt=s.alt||s.text||s.title,$&&(q.src=$),M&&(T.poster=F,T.autoplay=!0,T.loop=!0,T.controls=!1,T.muted=!0,T.setAttribute("playsinline",""),T.setAttribute("preload","auto"),T.innerHTML=`<source src="${s.video}" type="video/mp4" />`);const H=lfUtils.createDomEl("div","kt-hotspots-wrapper","",{"data-width":s.width,"data-height":s.height});u.disable_hotspots&&H.classList.add("lfHidden");const W=lfUtils.createDomEl("div",`kt-products-column kt-grid__item kt-products-column-${E}`),B=parseInt(u.glayout)||0;if((w||"default_column"==i.type)&&0!=B){var j=lfUtils.render_header(B,d);W.appendChild(j)}const R=lfUtils.createDomEl("div","hotspot-item-products-list"),G=lfUtils.createDomEl("div",`kt-row kt-${E}-col-lg kt-${C}-col-md kt-${x}-col-sm`,"",{"data-lg":E,"data-md":C,"data-sm":x}),Z=s.text||s.title||s.desc||s.alt,J=lfUtils.createDomEl("a","kt-image-lightbox",Z,{href:s.url});H.appendChild(J),u.popup&&!s.link||J.classList.add("lfHidden");const V=s.video&&lfShop.video?"video":"image";if(J.setAttribute("data-pswp-media",V),"video"===V&&(J.setAttribute("href",s.video),J.setAttribute("data-img",s.url),J.setAttribute("data-pswp-type","hotspots")),s.link){const t=Object.assign({href:s.link},s.target&&{target:s.target});H.appendChild(lfUtils.createDomEl("a","kt-image-link",Z||"",t))}if(D?.length?Object.assign(J.dataset,{imageId:`gallery${i.id}-img${g}`,pswpType:"hotspots",section:i.sectionId,hotspots:D.length,pswpWidth:s.width,pswpHeight:s.height}):Object.assign(J.dataset,{pswpWidth:s.width,pswpHeight:s.height}),v){const t=lfUtils.createDomEl("div","kt-image-column kt-grid__item"),n=lfUtils.createDomEl("div","kt-image-column-inner");if("adapt"!==u.size&&"none"!==u.size&&(t.classList.add("kt-ratio"),n.classList.add("kt-ratio"),t.style.setProperty("--ratio-percent",lfUtils.render_ratio(u.size))),n.appendChild(U),$&&(n.appendChild(q),n.classList.add("second-image")),M&&n.appendChild(T),u.disable_hotspots&&s.link&&s.link.length){const t=lfUtils.createDomEl("a","kt-image-link","",{href:s.link,"aria-label":e.alt||s.text});"_blank"==s.target&&t.setAttribute("target","_blank"),n.appendChild(t)}n.appendChild(H);const o=lfUtils.createDomEl("div","lfSkinItemInner");o.appendChild(n),t.appendChild(o);const r=document.createElement("div");var X="kt-embedded-row";"default_column"==i.type?(W.appendChild(G),X="kt-column-row"):S||b?(G.classList.add("kt-carousel"),b&&"multiple_columns"!=i.type?(G.classList.remove("kt-row"),X="kt-carousel-column-row"):X="kt-multi-column-row",W.appendChild(G)):W.appendChild(R),D.length&&u.alltocart&&renderAllToCart(W,u.alltocart_message),r.classList.add("kt-row",X),r.appendChild(t),r.appendChild(W),A.appendChild(r)}else A.appendChild(U),M&&A.appendChild(T),$&&(A.appendChild(q),A.classList.add("second-image")),A.appendChild(H);const Y=lfUtils.createDomEl("div","lf-productItems");if(I.appendChild(Y),v)I.appendChild(A);else{const t=lfUtils.createDomEl("div","lfSkinItemInner");t.appendChild(A),I.appendChild(t)}D&&D.length&&D.forEach((e,s)=>{if("product"==e.type&&void 0===e.product||"product"==e.type&&!e.product.handle||"link"==e.type&&!e.title&&!e.desc)return;const n=e?.product?.id,o=p+"-hotspot-item-"+i.id+"-"+a+"-"+s,r=lfUtils.createDomEl("div",`kt-hotspot-item hotspot-${m.icon} ${e.draw?"kt-hotspot-draw":""}`,"",{"data-id":o},{left:e.left+"%",top:e.top+"%"});H.appendChild(r);const l=lfUtils.createDomEl("div","hotspot-item-detail hotspot-item-type-link","",{"data-hotspot":o});"product"==e.type&&l.setAttribute("data-id",n);const h=lfUtils.createDomEl("div","hotspot-item-detail-inner","",{type:e.type});var c=e.url,g=e.title,y=e.desc,w="link"==e.type&&e.target?' target="_blank" ':"";if("product"==e.type&&(c=lfUtils.getLinkLang(e.product.handle),g=e.product.title,l.setAttribute("data-handle",c)),r.setAttribute("placement",f.placement),r.setAttribute("spacing",f.spacing),r.setAttribute("data-style",f.style),r.setAttribute("theme",f.theme),"auto"==f.placement&&(r.setAttribute("data-left",e.left),r.setAttribute("data-top",e.top)),"number"==m.icon&&(k=lfUtils.render_icon(m.icon,s+1)),e.draw){const t=lfUtils.createDomEl("span","hotspot-item-draw-data",JSON.stringify(e.drawData),{display:"none"});r.appendChild(t)}const b=lfUtils.createDomEl("span","hotspot-item-icon",`<span data-title='${g}'>${k} </span>`);r.appendChild(b);const S=c?"<a href='"+c+"' "+w+">"+g+"</a>":g,_=lfUtils.createDomEl("div","hotspot-item-image"),E=lfUtils.createDomEl("h4","hotspot-item-title",S),C=lfUtils.createDomEl("div","hotspot-item-desc",y);var x="product"==e.type?e.product.url:e.file;x||(x=lfUtils.ktPlaceholder),x==lfUtils.ktPlaceholder&&_.classList.add("hotspot-item-iempty");const L=lfUtils.flGetSizedImageUrl(x,lfUtils.imgEmbedded+"x"),z="default_embedded"==i.type?lfUtils.imgEmbedded:lfUtils.imgColumn,D=lfUtils.createDomEl("img","","",{src:L,alt:g,"data-img":x,"data-imgs":z});if("product"==e.type&&(D.width=lfUtils.imgEmbedded+"px",D.height="auto"),c){const t=lfUtils.createDomEl("a","","",{href:c,"aria-label":g});"link"==e.type&&e.target&&t.setAttribute("target","_blank"),t.appendChild(D),_.appendChild(t)}else _.appendChild(D);c||_.classList.add("hotspot-item-lempty");const P=lfUtils.createDomEl("div","hotspot-item-price"),I=lfUtils.createDomEl("div","hotspot-item-content"),A=lfUtils.createDomEl("div","hotspot-item-content-inner");I.appendChild(A);const U=lfUtils.createDomEl("div","hotspot-item-form",`<a href="${c}" class="${lfUtils.productClass} kt-button-link kt-button-small">${lfUtils.getCurrentLange("shop_now")}</a>`);if(I.appendChild(U),"product"==e.type){var T=`kt-${p}-${e.id}-form-${n}`;if(window.lfProducts?.[n]){const i={galleryData:d,hotSpot:l,hotSpotProduct:document.getElementById(l.dataset.hotspot),productData:window.lfProducts[n],productForm:""};lfUtils.documentEvent("lookfyFetchProduct",i),lfUtils.documentEvent("lookfyfetchProductDetail",i),lfHotspotProductForm(p,t,d,window.lfProducts[n],T,o,e.id,r),lfHotspotProduct(p,l,window.lfProducts[n],E,P,D)}else fetchProductDetail(p,t,d,T,o,D,l,c,E,P,e)}var M;"product"==e.type&&e.product.review&&(M=lfUtils.createDomEl("div","ryviu-collection",`<ryviu-widget-total collection=1 product_id="${n}" handle="${e.product.handle}" reviews_data="${e.product.review}" ></ryviu-widget-total>`)),"default_embedded"==i.type&&1==u.vertical?(hotspotHeader=lfUtils.createDomEl("div","hotspot-item-header"),hotspotHeader.appendChild(E),y&&hotspotHeader.appendChild(C),"product"==e.type&&e.product.review&&hotspotHeader.appendChild(M),A.appendChild(hotspotHeader),"product"==e.type&&A.appendChild(P)):"default_embedded"==i.type&&2==u.vertical?(A.appendChild(E),y&&A.appendChild(C),hotspotMeta=lfUtils.createDomEl("div","hotspot-item-meta"),hotspotMeta.appendChild(P),"product"==e.type&&e.product.review&&hotspotMeta.appendChild(M),A.appendChild(hotspotMeta)):(A.appendChild(E),y&&A.appendChild(C),"product"==e.type&&e.product.review&&A.appendChild(M),A.appendChild(P)),h.appendChild(_),h.appendChild(I),l.appendChild(h),r.appendChild(l);const q=v?"default_embedded"==i.type?R:G:Y;cloneHotspot(e,i,l,s,q,t,d,T,o)}),r||t.appendChild(n),_&&lfUtils.documentEvent("lookfyGalleryItem",{itemElement:I,galleryElement:t,galleryData:i,lightbox:!1,skin:o,image:s,position:g})}),l)return n.appendChild(c),h}function renderAllToCart(t,e=""){const i=lfUtils.createDomEl("div","alltocartall",`<a class="${lfUtils.productClass} fullwidth disabled" href="#">\n      <div><span>${lfUtils.getCurrentLange("add_all_to_cart")}</span> <span class="total-price"><span></div>\n      ${lfUtils.loading}\n    </a>`);if(e&&""!=e){const t=lfUtils.createDomEl("div","alltocartall_msg",e);i.appendChild(t)}const s=lfUtils.createDomEl("div","cartall__error-message-wrapper cartall__error-message-wrapper--hidden",lfUtils.errorSvg,{role:"alert"});i.appendChild(s),t.appendChild(i)}function cloneHotspot(t,e,i,s,n,o,r,l,a){const{type:d,settings:h,animation:c,sectionId:p}=e,u=i.cloneNode(!0);u.classList.remove(...["detail","right","left","top","bottom"].map(t=>`hotspot-item-${t}`)),u.classList.add("hotspot-item-product"),u.setAttribute("id",a),lfUtils.lfLayoutColumn(d)&&u.classList.add("kt-grid__item"),n?.appendChild(u),"column_carousel"==d&&u.classList.add("carousel-cell"),c&&"none"!==c&&(u.classList.add("lf-appear-child"),u.style.setProperty("animation-delay",s*lfUtils.aniDelay+"ms")),"adapt"!==h.psize&&"none"!==h.psize&&(u.classList.add("kt-ratio"),u.style.setProperty("--ratio-percent",lfUtils.render_ratio(h.psize)));const f=u.querySelector(".hotspot-item-image img");if(f){const t="default_embedded"==d?lfUtils.imgEmbedded:lfUtils.imgColumn;f.src=lfUtils.flGetSizedImageUrl(f.dataset.img,`${t}x`)}if("product"===t.type&&window.lfProducts?.[t.product.id]){const e=window.lfProducts[t.product.id];lfHotspotProductForm(p,o,r,e,l,a,t.id,i.closest(".kt-hotspot-item"));const s={galleryData:r,hotSpot:i,hotSpotProduct:u,productData:e,productForm:""};lfUtils.documentEvent("lookfyFetchProduct",s),lfUtils.documentEvent("lookfyfetchProductDetail",s)}}function fetchProductDetail(t,e,i,s,n,o,r,l,a,d,h){fetch(l+".js").then(t=>{if(404==t.status){console.log("Product Not Found -- "+lfUtils.lfShopUrl+l);const t=o.closest(".kt-hotspot-item");t&&t.remove();const e=document.getElementById(t.dataset.id);throw e&&e.remove(),new Error("Product_Not_Found")}return t.json()}).then(l=>{window.lfProducts=window.lfProducts||{},window.lfProducts[l.id]=l,window.lfProductOptions=window.lfProductOptions||{},window.lfProductOptions[l.id]=l.options;const c={galleryData:i,hotSpot:r,hotSpotProduct:document.getElementById(r.dataset.hotspot),productData:l,productForm:""};lfUtils.documentEvent("lookfyFetchProduct",c),lfUtils.documentEvent("lookfyfetchProductDetail",c),lfHotspotProduct(t,r,l,a,d,o),lfHotspotProductForm(t,e,i,l,s,n,h.id,r.closest(".kt-hotspot-item"))}).catch(function(t){console.log("Fetch Error : ",t)})}function lfHotspotProduct(t,e,i,s,n,o){if(e&&e.classList.replace("hotspot-item-type-link","hotspot-item-type-product"),i){if(s&&(s.querySelector("a").innerHTML=i.title),i.variants&&i.variants.length>0){var r=i.variants.find(t=>t.available);r&&n&&(n.innerHTML=lfUtils.render_price(r,lfShop.setup.price))}const t=o?.getAttribute("src");if(o&&t&&t.indexOf(`files/placeholder_${lfUtils.imgEmbedded}x.jpg`)>=0&&i.featured_image){const t=lfUtils.flGetSizedImageUrl(i.featured_image,o.dataset.imgs+"x");o.setAttribute("src",t),o.dataset.img=i.featured_image;const e=o.closest(".kt-hotspot-item");if(e){const s=document.getElementById(e.dataset.id);if(s){const e=s.querySelector(".hotspot-item-image img");e.setAttribute("src",t),e.dataset.img=i.featured_image}}}}lfUtils.documentEvent("lookfyHotspotProduct",{hotspotDetail:e,product:i,titleProduct:s,hotspotPrice:n,imgProduct:o})}function lfHotspotProductForm(t,e,i,s,n,o,r,l=null){r||(r=lfMakeID());var a="simple",d="";const h=document.getElementById(o);if(h){const w=h.closest(".hotspot-item-product");w.classList.remove("hotspot-item-type-link"),w.classList.add("hotspot-item-type-product");h.querySelector("h4.hotspot-item-title")&&(h.querySelector("h4.hotspot-item-title").querySelector("a").innerHTML=s.title);d="";const b=lfUtils.createDomEl("div","hotspot__error-message-wrapper lfHidden",lfUtils.errorSvg,{role:"alert"}),S=i.shop?.setup?i.shop.setup:JSON.parse(e.dataset.setup);if(0==s.available)d=`<button id="kt-${o}-form-${s.id}-submit" type="button" name="add" class="${lfUtils.productClass} disabled">${lfUtils.getCurrentLange("sold_out")}</button>`;else{var c=`<button data-form="${n}" id="${n}-addtocart" type="button" name="add" class="${lfUtils.productClass} kt-button-addtocart"><span>${lfUtils.getCurrentLange("add_to_cart")}</span>${lfUtils.loading}</button>`;d='<input type="hidden" name="form_type" value="product"><input type="hidden" name="utf8" value="✓">';var p=lfProductOptions[s.id]||s.options,u=s.variants.find(t=>t.available),f=!1;if(s.variants.length>1){a="variable";const e=1==p.length?lfUtils.getCurrentLange("add_to_cart_select").replace("{attribute_label}",p[0].name):lfUtils.getCurrentLange("choose_options");if("dropdown"==S.variant){f=!0;var m=[];m.push({id:"",option:e,disabled:!0}),s.variants.map(t=>{m.push({id:t.id,option:t.options.join(" / "),disabled:!t.available})});const i=m.map(t=>{const e=t.disabled?"disabled":"",i=u.id==t.id?"selected":"";return`<option value="${t.id}" ${e} ${i}>${t.option}</option>`});d+=`<div class="kt-choose-item" data-product="${s.id}" data-section="${t}" data-form="${n}" data-hotspot="${r}"><select name="id" class="kt-choose-select">${i.join("")}</select></div>`}else d+=`<input type="hidden" name="id" value="${u.id}">`,d+=`<button id="${n}-submit" class="${lfUtils.productClass} kt-choose-options" type="button">${e}</button>`}else d+=`<input type="hidden" name="id" value="${u.id}">`,f=!0;let e=u?.quantity_rule?.min;(!e||e<1)&&(e=1),d+=`<input class="quantity__input" type="hidden" min="${e}" step="${u?.quantity_rule?.increment||1}" value="${e||1}" />`,f&&(d+=c)}const _=h.querySelector(".hotspot-item-form");if(s.available&&h){const o=h.querySelector(".hotspot-item-price");o&&(1!=s.variants.length&&0!=s.available||h.classList.add("added"),u.compare_at_price&&o.setAttribute("data-compare_price",u.compare_at_price),o.setAttribute("data-price",u.price),o.innerHTML=lfUtils.render_price(u,lfShop.setup.price));var g="";if(s.variants.length>1&&"swatch"==S.variant){var y="";p.map((e,i)=>{var s=`<legend class="form__label">${e.name}</legend>`;const n=`template--${t}-${r}-${e.position}`;e.values.map((t,e)=>{const i=t.replace(/"/g,"&quot;");s+=`<input type="radio" class="variant-radio lfHidden" id="${n}-${e}" name="${n}" value="${i}">`,s+=`<label class="variant-radio-label" for="${n}-${e}">${t}</label>`}),y+=s=`<fieldset class="kt-product-form__input">${s}</fieldset>`}),y=`<div class="variant-radios">${y}</div>`,g=`<div class="kt-select-options" data-product="${s.id}" data-section="${t}" data-form="${n}" data-hotspot="${r}"><div class="kt-options-content">${y} ${c}</div></div>`}_.insertAdjacentHTML("afterbegin",`<form id="${n}" action="/cart/add?lookfy-cart-call" class="kt-addtocart-form kt-popup_${i.shop.button_action} kt-form-${a}" method="POST" data-type="${a}">`+d+"</form>"+g);const l=h.closest(".kt-carousel");if(l){var v=flickitylf.data(l);v&&v.resize()}lfUtils.documentEvent("lookfyProductForm",{galleryElement:e,galleryData:i,sectionID:t,productForm:_,product:s,row:e.querySelector(".kt-type-main")})}else _.insertAdjacentHTML("afterbegin",d);const E="simple"===a||"dropdown"==S.variant?".hotspot-item-detail-inner":".kt-options-content";w.querySelector(E)?.appendChild(b),lfUtils.documentEvent("lookfyGalleryForm",{galleryElement:e,hotSpotProduct:h,product:s,galleryData:i,hotspotElement:l})}}function lfGaleryCustom(t){lfCustom||(window.lfShop={fbtracking:t.dataset.fbtracking,setup:JSON.parse(t.dataset.setup),thirdparty:JSON.parse(t.dataset.thirdparty),video:"true"===t.dataset.video},lfCustom=!0,window.lfThemeInfo=lfUtils.lfThemeDetector(),window.lfCustomCss&&lfUtils.add_custom_css(window.lfCustomCss),window.lfPopupCss&&lfUtils.add_custom_css(window.lfPopupCss),window.lfCustomJs&&lfUtils.add_custom_js(window.lfCustomJs),window.lfThemeName&&(window.lfThemeInfo.themeName=window.lfThemeName),document.body.classList.add(`lf-theme-${window.lfThemeInfo.themeName}`))}function lfGaleryEvent(t,e){const i=t.dataset,s=t.querySelector(".kt-type-main").dataset.type;e.type=s;const n={galleryData:e,galleryElement:t,row:t.querySelector(".kt-type-main"),h_settings:JSON.parse(i.h_settings),t_settings:JSON.parse(i.t_settings),settings:JSON.parse(i.settings)};t.classList.remove("lf-loading");["lookfyLoaded","lookfyCreated","lookfyCreated"+s,"lookfyGallery","lookfyGallery"+s].forEach(t=>lfUtils.documentEvent(t,n)),lfUtils.lfLayoutMasonry(s)&&lfUtils.documentEvent("lookfyGalleryMasonryLayout",n)}function layoutMasonry(t){const e=t.querySelectorAll(".kt-grid__item"),i=t.offsetWidth,s=window.innerWidth,n=s<768||lfUtils.mobileCheck()?parseInt(t.dataset.guttermobile):parseInt(t.dataset.gutter);let o;o=s<768||lfUtils.mobileCheck()?parseInt(t.dataset.sm):s<1024?parseInt(t.dataset.md):parseInt(t.dataset.lg);const r=Math.floor(i/o-n*(o-1)/o);e.forEach(t=>{const e=parseInt(t.dataset.column),o=parseInt(t.dataset.row);let l=r*e+n*(e-1),a=r*o+n*(o-1);l>i&&(l=i,a=i*o/e,a<i/2&&s<768&&(a=i/2)),t.style.width=`${l}px`,t.style.maxWidth=`${l}px`,t.style.paddingTop=`${a}px`})}function galleryRowCart(t){const e=t.querySelectorAll(".kt-products-column .hotspot-item-product");var i=0,n=0,o=0,r=!0;e.forEach(t=>{if(t.classList.contains("added")){i++;t.querySelector(".hotspot-item-price")&&(n+=parseInt(t.querySelector(".hotspot-item-price").getAttribute("data-price")))}const e=t.querySelector(".kt-button-addtocart"),s=lfUtils.select(".lfPopover");if(e&&!e.classList.contains("disabled"))o++;else if(!e&&s){s.querySelector(".kt-button-addtocart").classList.contains("disabled")||o++}}),0!=e.length&&i==e.length&&o==e.length||(r=!1);const l=t.querySelector(".total-price");l&&(l.innerHTML="<span class='price-item--normal'>"+s(n)+"</span>");const a=t.querySelector(".alltocartall .kt-button");r?a.classList.remove("disabled"):a.classList.add("disabled"),lfUtils.documentEvent("lfGalleryRowCart",{lfProducts:e,lfGalleryRow:t,totalPriceElement:l,totalPrice:n})}function lfGetSectionInnerHTML(t,e=".shopify-section"){return(new DOMParser).parseFromString(t,"text/html").querySelector(e).innerHTML}document.addEventListener("lookfyGalleryItem",({detail:t})=>{const{itemElement:e,galleryData:i}=t,s={...i.t_settings,section:i.sectionId};e.querySelectorAll(".kt-hotspot-item").forEach(t=>lfUtils.tooltip(t,s));const n=e.querySelectorAll(".kt-hotspot-draw"),o=e.querySelector(".kt-image-item-main");if(!n.length||!o)return;const r=e.querySelector(".kt-image-lightbox"),{draw:l}=e.dataset,{width:a,height:d}=l?JSON.parse(l):{width:+o.getAttribute("width")||100,height:+o.getAttribute("height")||100};r?.insertAdjacentHTML("beforebegin",`<svg class="hs-poly-svg" viewBox="0 0 ${a} ${d}" preserveAspectRatio="none"></svg>`);const h=e.querySelector(".hs-poly-svg");h&&(n.forEach(t=>{const e=t.dataset,i=t.querySelector(".hotspot-item-draw-data")?.innerHTML;if(!i)return;const s=JSON.parse(i).map(t=>`${t.x},${t.y}`).join(" ");h.insertAdjacentHTML("beforeend",`<polygon class="lf-img-shape" points="${s}" data-id="${e.id}" data-did="${e.did}" data-type="${e.type}" data-link="${e.link}" />`)}),h.querySelectorAll("polygon").forEach(t=>lfUtils.tooltip(t,{...s,draw:!0})))}),document.addEventListener("lookfyGalleryItem",({detail:t})=>{const{galleryElement:e,itemElement:i,galleryData:s,skin:n,image:o,position:r,reload:l}=t,a=i.querySelector("video[autoplay]");if(a&&a.play(),i.classList.add("lf-img-enabled"),s.layout.l_column){const t=i.querySelector(".kt-image-column");t&&lfUtils.hotspotsWrapper(t,{inner:".kt-image-column-inner"})}else lfUtils.hotspotsWrapper(i);const d=i.querySelector(".lfSkinItemInner");if(d){if(n){const t=(t,e,i)=>{if(i){const s=lfUtils.createDomEl("div",`skinItem${t}`,lfUtils.render_layer(i,{products_count:o.products_count||"",link:o.link||"",text:o.text||o.title||"",desc:o.desc||"",alt:o.alt||"",tags:o.tags||"",vendor:o.vendor||"",badges:o.badges||"",price:o.price||"",hotspots_count:o.hotspots?.length||0,position:r}));e.appendChild(s)}},e=i.querySelector(".kt-image-item-box");if(t("Layers",e.querySelector(".kt-image-column-inner")||e,n.layers),t("Cards",d,n.cards),n.card&&n.cards){const t=i.querySelector(".skinItemCards");t&&(n.card.normal&&(t.dataset.lookfyNormalLayer=JSON.stringify(n.card.normal)),n.card.hover&&(t.dataset.lookfyEnter=JSON.stringify(n.card.hover)))}if(n.fontData&&lfUtils.render_fonts(n.fontData),n.layout&&(n.layout.normal&&(d.dataset.lookfyNormal=JSON.stringify(n.layout.normal)),n.layout.hover&&(d.dataset.lookfyEnter=JSON.stringify(n.layout.hover))),n.media){i.querySelectorAll(".kt-image-item-main").forEach(t=>{n.media.normal&&(t.dataset.lookfyNormalLayer=JSON.stringify(n.media.normal)),n.media.hover&&(t.dataset.lookfyEnter=JSON.stringify(n.media.hover))});const t=i.querySelector(".kt-image-item-second");t&&(n.media.normal&&(t.dataset.lookfyNormalLayer=JSON.stringify(n.media.normal)),n.media.normal&&(t.dataset.lookfyEnter=JSON.stringify(n.media.hover)))}}var h={},c={};d.dataset.lookfyNormal&&(h=JSON.parse(d.dataset.lookfyNormal),c=JSON.parse(d.dataset.lookfyEnter),Object.assign(d.style,h));const t=d.querySelectorAll("[data-lookfy-normal-layer]");t.forEach(t=>{const e=JSON.parse(t.dataset.lookfyNormalLayer);Object.assign(t.style,e)}),d.addEventListener("mouseenter",function(e){d.dataset.lookfyNormal&&Object.assign(d.style,c),t.forEach(t=>{const e=JSON.parse(t.dataset.lookfyEnter);t.removeAttribute("style"),Object.assign(t.style,e)})}),d.addEventListener("mouseleave",function(e){d.dataset.lookfyNormal&&Object.assign(d.style,h),t.forEach(t=>{const e=JSON.parse(t.dataset.lookfyNormalLayer);t.removeAttribute("style"),Object.assign(t.style,e)})});d.querySelectorAll(".layerContentLink").forEach(t=>{const e=t.closest(".lfSkinItemInner"),i=t.closest(".layer-item");i.classList.add("layer-action");const s=e.querySelector(".kt-image-link");if(s){let e=s.getAttribute("target");s.classList.add("lfHidden"),e&&t.classList.contains("link-url")&&t.setAttribute("target",e)}if(t.classList.contains("link-lightbox")){const t=e.querySelector(".kt-image-lightbox");t.classList.add("lfHidden"),i.addEventListener("click",function(){t&&t.click()})}})}if(l&&["products","collections"].includes(s.source))if("masonry"==s.type){const t=Masonry.data(e.querySelector(".kt-type-main"));layoutMasonry(e),t?.layout()}else if("carousel"==s.type){const t=i.closest(".kt-carousel"),e=flickitylf.data(t);e?.resize()}}),document.addEventListener("lookfyGalleryItem",({detail:{itemElement:t,image:e}})=>{const i=t.querySelector(".hotspot-product-card"),s=t.querySelector(".hotspot-item-product");if(!i||!s)return;const n=s.dataset.id,o=window.lfProducts?.[n]??e.hotspots?.find(t=>t.product?.id==n)?.product;o&&lfUtils.renderProductCard(i,o)}),document.addEventListener("lookfyGalleryItem",({detail:{itemElement:t,image:e}})=>{const i=t.querySelector(".hotspot-product-cards"),s=t.querySelectorAll(".hotspot-item-product");i&&s.length&&s.forEach(t=>{const s=t.dataset.id,n=window.lfProducts?.[s]??e.hotspots?.find(t=>t.product?.id==s)?.product;n&&lfUtils.renderProductCards(i,n)})}),document.addEventListener("lookfyfetchProductDetail",({detail:{productData:t}})=>{document.querySelectorAll(`.hotspot-product-inline[data-id="${t.id}"]:not(.lf-active)`).forEach(e=>{console.log("lookfyfetchProductDetail"),e.classList.add("lf-active");const i=e.closest(".hotspot-product-cards");i&&lfUtils.renderProductCards(i,t)}),document.querySelectorAll(`.hotspot-product__inner[data-id="${t.id}"]:not(.lf-active)`).forEach(e=>{e.classList.add("lf-active");const i=e.closest(".hotspot-product-card");i&&lfUtils.renderProductCard(i,t)})}),document.addEventListener("lookfyGallery",t=>{const{galleryElement:e,galleryData:i,row:s}=t.detail,o=s.classList.contains("lf-appear")?[s]:s.querySelectorAll(".lf-appear"),r=t=>{t.forEach(t=>{window.scrollY>=t.offsetTop-window.innerHeight&&n(t,i.animation)})};r(o),window.addEventListener("scroll",function(t){r(o)});const l=lfUtils.lookfy_responsive(e);l&&e.classList.add(l)}),document.addEventListener("lookfyGallery",t=>{const{galleryData:{type:e},row:i}=t.detail;lfUtils.lfLayoutColumn(e)&&i.querySelectorAll(".kt-lcolumn-item").forEach(t=>{const i=t.querySelectorAll(".hotspot-item-icon"),s="default_embedded"==e?".hotspot-item-products-list":".kt-products-column",n=t.querySelectorAll(`${s} .hotspot-item-product`);i.forEach((t,e)=>{t.addEventListener("mouseover",()=>{n.forEach((t,i)=>{i!==e&&t.classList.add("for-hotspot--quiet")})}),t.addEventListener("mouseout",()=>{n.forEach(t=>t.classList.remove("for-hotspot--quiet"))})})})}),document.addEventListener("lookfyGallery",t=>{const{galleryElement:e,galleryData:i,row:s,settings:o,h_settings:r,t_settings:l}=t.detail,a=e.querySelector(".kt-loadmore");if(a){const t=a.querySelector("a");t.addEventListener("click",o=>{o.preventDefault();const r=parseInt(a.getAttribute("data-page"))+1;t.classList.add("loading"),t.querySelector(".kt-loading-overlay__spinner").classList.remove("lfHidden"),i.formData.page=r,fetch(i.link,{method:"POST",body:JSON.stringify(i.formData)}).then(t=>t.json()).then(o=>{if(o.cursor?(a.setAttribute("data-page",r),t.classList.remove("loading"),t.querySelector(".kt-loading-overlay__spinner").classList.add("lfHidden"),t.classList.add("added"),t.querySelector(".kt-loading-overlay__check").classList.remove("lfHidden"),setTimeout(function(){t.classList.remove("lfHidden","added"),t.querySelector(".kt-loading-overlay__check").classList.add("lfHidden")},2e3)):a.classList.add("lfHidden"),["masonry","grid"].includes(i.type)){if(h=lfImagesRender(e,i,o.images,s,o.skin,!0,!0,r)){var l=Masonry.data(s);l.appended(h);const t=e.querySelector(".lf-filters .lf-active");t&&(lfUtils.applyFilter(e,t),l.reloadItems(),l.layout())}}else lfImagesRender(e,i,o.images,s,o.skin,!0,!1,r);const d=i.animation;if(d&&"none"!=d&&!i.layout.l_column){var h=s.querySelectorAll(".lf-appear-done");s.classList.contains("lf-appear-done")&&(h=[s]),h.forEach(function(t){n(t,d)})}})})}}),document.addEventListener("lookfyGallery",({detail:{galleryData:t,galleryElement:e}})=>{let s={gallery:"#lookfy-gallery-main-"+t.id,children:"a.kt-image-lightbox",pswpModule:LfPhotoSwipe,padding:{top:20,bottom:20,left:20,right:20}};lfUtils.documentEvent("beforeLfPhotoSwipeInit",{lbObject:s,galleryData:t,galleryElement:e});const n=new LfPhotoSwipeLightbox(s);new i(n,{autoplay:!0,galleryData:t,galleryElement:e,videoAttributes:{autoplay:"true",loop:"true",preload:"auto",playsinline:"",muted:"true"}});n.init()}),document.addEventListener("lookfyGallerycarousel",t=>{const{galleryElement:e,row:i,settings:s}=t.detail,n=lfUtils.get_carousel(JSON.parse(e.getAttribute("data-carousel")),parseInt(e.dataset.lg),i.children.length),o=new flickitylf(i,n);o.on("dragStart",()=>o.slider.childNodes.forEach(t=>t.style.pointerEvents="none")),o.on("dragEnd",()=>o.slider.childNodes.forEach(t=>t.style.pointerEvents="all")),o.on("change",function(t){lfUtils.documentEvent("lookfyGallerycarouselChange",{flkty:o,index:t,row:i,galleryElement:e,carouselConfig:n})}),s.popup&&o.on("staticClick",function(t,e,i,s){if(!i)return;const n=i.querySelector(".kt-image-lightbox");!1===n?.classList?.contains("lfHidden")&&n.click()}),lfUtils.documentEvent("lookfyGallerycarouselEnd",{flkty:o,row:i,galleryElement:e,carouselConfig:n})}),document.addEventListener("lookfyGallerycolumn_carousel",t=>{const{row:e,galleryElement:i}=t.detail;e.querySelectorAll(".kt-columns-item").forEach(t=>{const e=t.querySelector(".kt-products-column .kt-carousel");if(e){const n=lfUtils.get_carousel(JSON.parse(i.getAttribute("data-carousel")),parseInt(i.dataset.lg),e.children.length);var s=new flickitylf(e,n);t.querySelectorAll(".hotspot-item-icon").forEach((t,e)=>{t.addEventListener("click",()=>{s.select(e)}),t.addEventListener("touchstart",()=>{s.select(e)})})}})}),document.addEventListener("lookfyGallerymultiple_columns",t=>{const{row:e,galleryElement:i}=t.detail;lfUtils.mobileCheck()&&e.querySelectorAll(".kt-products-column .kt-row").forEach(t=>{t.classList.remove("kt-row"),t.querySelectorAll(".hotspot-item-product").forEach(t=>t.classList.add("carousel-cell")),new flickitylf(t,lfUtils.get_carousel(JSON.parse(i.getAttribute("data-carousel")),parseInt(i.dataset.lg),t.querySelectorAll(".hotspot-item-product").length))})}),document.addEventListener("lookfyGalleryMasonryLayout",t=>{const{row:e,galleryElement:i,galleryData:s}=t.detail;var n={itemSelector:".kt-grid__item:not(.lfHidden)",gutter:".gutter-sizer"};const o=lfUtils.createDomEl("div","gutter-sizer");if(e.appendChild(o),"grid"==s.type){const t=lfUtils.createDomEl("div","kt-grid__sizer kt-grid__item","",{"data-column":1,"data-row":1},{"--column":1,"--row":1});e.appendChild(t),n.columnWidth=".kt-grid__sizer",n.resize=!1,layoutMasonry(i)}const r=i.querySelector(".kt-type-main");var l=new Masonry(r,n);"grid"==s.type&&window.addEventListener("resize",lfUtils.lfDebounce(function(t){layoutMasonry(i),l.layout()})),r.classList.add("masonry-enabled"),lfUtils.documentEvent("lookfyGalleryMasonryEnd",{msnry:l,msnry_object:n,galleryMain:r,galleryElement:i,galleryData:s,layoutMasonry:layoutMasonry})}),document.addEventListener("lookfyProductForm",t=>{const{galleryElement:e,galleryData:i,product:s,productForm:n,sectionID:o}=t.detail;if(!n)return;const{id:r,variants:l}=s,a=lfProductOptions[r],d=n.querySelector(".kt-button-addtocart"),h=n.querySelector("form"),c=n.querySelector(".kt-select-options")||h,p=h.querySelector("[name=id]"),u=(e.querySelector(".kt-type-main")?.dataset.type,c?.dataset.hotspot||null),f=h.dataset.type,m=lfUtils.select("cart-notification")||lfUtils.select("cart-drawer"),g=d.querySelector(".kt-loading-overlay__spinner"),y=d.querySelector(".kt-loading-overlay__check");if(d&&(n.closest(".hotspot-item-product")?.classList.add("added"),d.addEventListener("click",function(t){if(t.preventDefault(),d&&!d.classList.contains("disabled")){const t=n.closest(".hotspot-item-product");var e=null;t?(e=t.querySelector(".hotspot__error-message-wrapper"),"variable"==f&&"swatch"==lfShop.setup.variant&&(e=c.querySelector(".hotspot__error-message-wrapper"))):e=n.querySelector(".lfProduct__error-message-wrapper"),d.classList.add("loading"),g.classList.remove("lfHidden"),e.classList.add("lfHidden");const i=h.querySelector("[name=id]").value,s=l.find(t=>t.id.toString()==i),o=n.querySelector(".quantity__input")?.value;s?.quantity_rule?.min>1?lfUtils.getJson("/cart.js",t=>{const n=t.items.find(t=>t.variant_id.toString()==i)?s.quantity_rule.increment:s.quantity_rule.min;v(o||n,e)}):v(o||1,e)}}),h))if("dropdown"===lfShop.setup.variant)n.querySelector(".kt-choose-select")?.addEventListener("change",function(t){t.preventDefault(),b()});else{if(u){const t={classes:`shopify-section-${o}`};lfUtils.popover(n,t)}if("variable"===f){b();n.querySelectorAll(".variant-radio").forEach(t=>t.addEventListener("change",w))}}function v(t,i){t||(t=1);const s={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/javascript"}};s.headers["X-Requested-With"]="XMLHttpRequest",delete s.headers["Content-Type"];const o=new FormData(h),r=lfUtils.cart_formData(window.lfThemeInfo.themeName,m);r&&o.append("sections",r),o.append("sections_url",window.location.pathname),o.append("quantity",t),s.body=o,fetch(`${lfUtils.lfCartAdd}?lookfy-cart-call`,s).then(t=>t.json()).then(t=>{if(d.classList.add("added"),y.classList.remove("lfHidden"),setTimeout(function(){d.classList.remove("lfHidden","added"),y.classList.add("lfHidden")},2e3),t.status){i.classList.remove("lfHidden"),i.querySelector(".error-message").innerHTML=t.description;var s=d.closest(".kt-carousel");if("variable"==f&&(s=n.closest(".kt-carousel")),s){var o=flickitylf.data(s);o&&o.resize()}}else{const i={galleryElement:e,cartDetail:t,form:n};lfUtils.documentEvent("lookfyCartAdded",i,window.lfThemeInfo.themeName),lfUtils.documentEvent("lookfyCartAdded_"+window.lfThemeInfo.themeName,i)}}).catch(t=>{console.error("lookfyCartError",t),document.dispatchEvent(new CustomEvent("lookfyCartError",{detail:{error:t}}))}).finally(()=>{d.classList.remove("loading"),g.classList.add("lfHidden"),document.dispatchEvent(new CustomEvent("lookfyCartFinally",{}))})}function w(t){t.preventDefault();var e=[],i=null;a.map((t,i)=>{var s=c.querySelectorAll('[name="'+t.name+'"]');if(!s.length){const e=lfUtils.select(".lfPopover"),i=u?`template--${o}-${u}-${t.position}`:`template--${o}-${t.position}`;s=e?lfUtils.select(".lfPopover").querySelectorAll('[name="'+i+'"]'):c.querySelectorAll('[name="'+i+'"]')}for(var n of s)n.checked&&e.push(n.value)}),2==e.length?e.push(null):1==e.length&&(e.push(null),e.push(null)),s.variants.map(t=>{t.option1==e[0]&&t.option2==e[1]&&t.option3==e[2]&&(i=t.id)}),p.value=i,b()}function b(){var t,r=null,l=null,c=null,f=[],m=[],g=[],y=[],v=!0,w=p.value,b=h.closest(".hotspot-item-product")||h.closest(".lf-lightbox-product-infos"),S=b.querySelector(".hotspot-item-price")||b.querySelector(".lf-lightbox-product-prices"),_=b.querySelector(".quantity__input")||b.querySelector(".quantity__input"),E=b.querySelector(".hotspot-item-image img")||b.querySelector(".lf-lightbox-product-image img");if(w){s.variants.map((e,i)=>{w==e.id&&(r=e.option1,l=e.option2,c=e.option3,v=e.available,t=e),f.push(e.available),m.push(e.option1),g.push(e.option2),y.push(e.option3)}),a.map((t,e)=>{t.values.map((i,s)=>{var n=r,a=!0;1==e?n=l:2==e&&(n=c),m.forEach((e,s)=>{1==t.position?m[s]==i&&f[s]&&(a=!1):2==t.position?e==r&&g[s]==i&&f[s]&&(a=!1):e==r&&g[s]==l&&y[s]==i&&f[s]&&(a=!1)});const d=`template--${o}${u?"-"+u:""}-${t.position}-${s}`;var h=document.getElementById(d);h&&(a?h.classList.add("disabled"):h.classList.remove("disabled"),h.checked=n==i)})}),v?d.classList.remove("disabled"):d.classList.add("disabled"),S.setAttribute("data-compare_price",t.compare_price),S.setAttribute("data-price",t.price),S.innerHTML=lfUtils.render_price(t,lfShop.setup.price);const i=t?.quantity_rule?.min||1;_.setAttribute("min",i),_.setAttribute("step",t?.quantity_rule?.increment||1);const n=t?.featured_image?.src?t.featured_image.src:E.getAttribute("data-img");E.src=lfUtils.flGetSizedImageUrl(n,E.dataset.imgs+"x");const p=h.closest(".kt-products-column");if(p&&e.querySelector(".alltocartall")){galleryRowCart(p.closest(".kt-lcolumn-item"))}}lfUtils.documentEvent("lookfyVariantsSelected",{galleryElement:e,galleryData:i,product:s,productForm:n,select_variant:w})}}),document.addEventListener("lookfyGalleryForm",t=>{const{galleryElement:e}=t.detail,i=document.querySelector("cart-notification")||document.querySelector("cart-drawer"),s=e.querySelectorAll(".kt-products-column");function n(t){t.preventDefault();const e=t.target.closest(".kt-button");if(e.classList.contains("disabled"))return;const i=e.querySelector(".kt-loading-overlay__spinner"),s=e.querySelector(".kt-loading-overlay__check"),n=e.closest(".alltocartall").querySelector(".cartall__error-message-wrapper"),r=function(t){let e=[],i=0;const s=t.target.closest(".kt-products-column").querySelectorAll(".hotspot-item-product");return i=s.length,s.forEach(t=>{const i=t.querySelectorAll('input[name="id"]'),s=t.querySelectorAll('select[name="id"]'),n=i.length?i:s;if(n.length){const t=n[0].closest("form").querySelector(".quantity__input");e.push({id:n[0].value,min:t.getAttribute("min")||1,quantity:t.getAttribute("step")||1})}}),e}(t);r.some(t=>t.min>1)?lfUtils.getJson("/cart.js",t=>{o(t.items.length?r.map(e=>t.items.find(t=>t.variant_id.toString()===e.id)?e:{...e,quantity:e.min}):r.map(t=>({...t,quantity:t.min})),e,s,i,n)}):o(r,e,s,i,n)}function o(t,s,n,o,r){const l="cartall__error-message-wrapper--hidden";let a={items:t,sections_url:window.location.pathname};const d=lfUtils.cart_formData(window.lfThemeInfo.themeName,i);d&&(a.sections=d),s.classList.add("loading"),o.classList.remove("lfHidden"),r.classList.add(l),lfUtils.postJson(`${lfUtils.lfCartAdd}?lookfy-alltocart-call`,a,t=>{if(s.classList.add("added"),n.classList.remove("lfHidden"),setTimeout(function(){s.classList.remove("lfHidden","added"),n.classList.add("lfHidden")},2e3),t.status)r.classList.remove(l),r.querySelector(".error-message").innerHTML=t.description;else{const i={galleryElement:e,cartDetail:t,products:!0};lfUtils.documentEvent("lookfyCartAdded",i),lfUtils.documentEvent("lookfyCartAdded_"+window.lfThemeInfo.themeName,i)}},t=>{console.error("Error:",t)},()=>{s.classList.remove("loading"),o.classList.add("lfHidden"),document.dispatchEvent(new CustomEvent("lookfyCartFinally",{}))})}s&&s.length>0&&s.forEach(t=>{const e=t.querySelector(".alltocartall");if(e){setTimeout(function(){galleryRowCart(t.closest(".kt-lcolumn-item"))},500);const i=e.querySelector("a");i&&!i.classList.contains("working")&&(i.addEventListener("click",n),i.classList.add("working"))}})}),document.addEventListener("lookfyGallery",({detail:{galleryData:t,galleryElement:e}})=>{if(!t.analytic)return;const i={...t,href:window.location.href};e.querySelectorAll(".hotspot-item-title a, .hotspot-item-image a").forEach(t=>{t.addEventListener("click",t=>{i.link=t.target.closest("a").getAttribute("href"),lfUtils.sendPixel("lf_click",i)})})}),document.addEventListener("lookfyGallery",({detail:{galleryElement:t}})=>{const e=t.querySelectorAll(".lf-filters a");e.forEach(i=>{i.addEventListener("click",i=>{i.preventDefault(),e.forEach(t=>t.classList.remove("lf-active"));const s=i.target.closest("a");s.classList.add("lf-active"),lfUtils.applyFilter(t,s)})})}),document.addEventListener("lookfyGalleryMasonryEnd",({detail:{msnry:t,galleryElement:e,layoutMasonry:i}})=>{e.addEventListener("lookfyGalleryFilterApplied",()=>{i(e),t.reloadItems(),t.layout()})}),document.addEventListener("lookfyCartAdded",({detail:{cartDetail:t,galleryElement:e,products:i}})=>{const s=i?"lf_add_to_cart_all":"lf_add_to_cart";if("true"==e.dataset.analytic&&lfUtils.sendPixel(s,{id:e.dataset.id,cartDetail:t,href:window.location.href}),!lfShop.fbTracking&&"function"==typeof fbq)try{const{product_id:e,product_title:i,price:s}=t;fbq("track","AddToCart",{content_ids:[e],content_name:i,content_type:"product",value:s,contents:[{id:e,quantity:1}]},{eventID:`id_${Date.now()}`})}catch(t){console.log("Track AddToCart error:",t)}const n={cart:"/cart",checkout:"/checkout"}[lfShop.setup.redirect];n&&(window.location.href=n)}),document.addEventListener("lookfyCartFinished",t=>{const e=lfUtils.select(".lfPopover");if(e){const t=e.querySelector(".kt-select-options"),i=document.getElementById(t.dataset.form).closest(".hotspot-item-form");i.querySelector(".kt-button").classList.remove("active"),i.appendChild(t),e.remove()}}),document.addEventListener("lookfyCartFinally",t=>{if("dawn"==window.lfThemeInfo.themeName){const t=lfUtils.select("cart-notification")||lfUtils.select("cart-drawer");t&&t.classList.contains("is-empty")&&t.classList.remove("is-empty")}}),document.addEventListener("lookfyCartAdded_dawn",({detail:{cartDetail:t,products:e}})=>{const i=lfUtils.select("cart-notification")||lfUtils.select("cart-drawer");if("drawer"==lfShop.setup.redirect&&i){if(e&&lfUtils.select("cart-notification")){document.getElementById("cart-icon-bubble").innerHTML=lfGetSectionInnerHTML(t.sections["cart-icon-bubble"])}else i.renderContents(t);lfUtils.documentEvent("lookfyCartFinished")}}),document.addEventListener("lookfyCartAdded_motion",()=>{"drawer"==lfShop.setup.redirect&&(document.dispatchEvent(new CustomEvent("ajaxProduct:added",{detail:{},bubbles:!0})),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_beyours",({detail:{cartDetail:t}})=>{const e=document.querySelector("mini-cart");"drawer"==lfShop.setup.redirect&&e&&(e.renderContents(t),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_enterprise",()=>{const t=document.querySelector("cart-drawer");"drawer"==lfShop.setup.redirect&&t&&(t.refresh().then(()=>{t.open()}),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_sleek",()=>{"drawer"==lfShop.setup.redirect&&(document.dispatchEvent(new CustomEvent("cart:refresh",{detail:{open:!0}})),fetch("/cart.json").then(t=>t.json()).then(t=>{if(null!=t.item_count){document.querySelectorAll("cart-count").forEach(e=>e.onCartUpdate({cart:{item_count:t.item_count}}))}}).catch(t=>{throw t}),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_concept",({detail:{cartDetail:t}})=>{const e=lfUtils.select("cart-drawer");if("drawer"===lfShop.setup.redirect&&e){const i=lfGetSectionInnerHTML(t.sections[e.dataset.sectionId],"cart-count");t.item_count=i,lfUtils.selectAll("cart-count").forEach(e=>e.onCartUpdate({cart:t})),e.onCartRefresh({detail:{open:!0}}),lfUtils.documentEvent("lookfyCartFinished")}}),document.addEventListener("lookfyCartAdded_horizon",({detail:{cartDetail:t}})=>{"drawer"==lfShop.setup.redirect&&lfUtils.select("cart-drawer-component")&&(document.dispatchEvent(new CustomEvent("cart:update",{detail:{source:"cart-items-component",data:t}})),lfUtils.select("cart-drawer-component")?.open(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_xtra",({detail:{cartDetail:t}})=>{"drawer"==lfShop.setup.redirect&&(ajaxCart.load(t),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_paloalto",()=>{window.cart&&"drawer"==lfShop.setup.redirect&&(window.cart.getCart(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_the4",({detail:{cartDetail:t}})=>{"drawer"==lfShop.setup.redirect&&(window.T4SThemeSP.Cart.renderContents(t.sections),window.T4SThemeSP.Drawer&&(window.T4SThemeSP.Drawer.opend($("#t4s-mini_cart")),lfUtils.documentEvent("lookfyCartFinished")))}),document.addEventListener("lookfyCartAdded_shella",()=>{"drawer"==lfShop.setup.redirect&&lfUtils.getJson("/cart.js",t=>{window.theme.Cart.updateHeaderCount(t),window.theme.Cart.updateValues(t),window.theme.Cart.updateFreeShipping(t),lfUtils.select(".header__btn-cart")?.click(),lfUtils.documentEvent("lookfyCartFinished")})}),document.addEventListener("lookfyCartAdded_minimog",()=>{const t=lfUtils.select("m-cart-drawer");"drawer"==lfShop.setup.redirect&&t&&(t.onCartDrawerUpdate(),t.open(),lfUtils.select("foxkit-cart-goal")?.updateProgress(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_symmetry",({detail:{cartDetail:t}})=>{const e=lfUtils.select("cart-drawer");"drawer"===lfShop.setup.redirect&&e&&(["page-header","cart-drawer"].map(t=>lfUtils.select(t)).filter(t=>t).forEach(e=>{e.updateFromCartChange(t.sections[e.dataset.sectionId])}),lfUtils.select(".js-cart-drawer").open(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_impulse",()=>{if("drawer"===lfShop.setup.redirect&&"drawer"==theme.settings.cartType){(new theme.CartDrawer).open(),lfUtils.documentEvent("lookfyCartFinished")}}),document.addEventListener("lookfyCartAdded_impact",({detail:{cartDetail:t}})=>{const e=lfUtils.select("cart-drawer");if("drawer"===lfShop.setup.redirect&&e){const{sections:e}=t||{};e&&Object.entries(e).forEach(([t,e])=>{let i=document.getElementById(`shopify-section-${t}`)||document.getElementById(t);i&&(i.innerHTML=lfGetSectionInnerHTML(e))}),lfUtils.getJson("/cart.js",t=>{const e=lfUtils.select("cart-count");e&&(e.style.opacity=1,e.innerHTML=`<span><slot>${t.item_count}</slot></span>`,e.click(),lfUtils.documentEvent("lookfyCartFinished"))})}}),document.addEventListener("lookfyCartAdded_hongo",({detail:{cartDetail:t}})=>{const{sections:e}=t||{},i=lfUtils.select("cart-notification");"drawer"===lfShop.setup.redirect&&i&&(i.updateContent(e),i.open(),lfUtils.getJson("/cart.js",t=>{lfUtils.selectAll("span[data-cart-count]").forEach(e=>{e.innerText=t.item_count}),lfUtils.documentEvent("lookfyCartFinished")}))}),document.addEventListener("lookfyCartAdded_sahara",({detail:{cartDetail:t}})=>{const e=lfUtils.select("cart-drawer");"drawer"===lfShop.setup.redirect&&e&&(e.renderContents(t),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_focal",({detail:{cartDetail:t}})=>{const e=lfUtils.select("cart-drawer");"drawer"===lfShop.setup.redirect&&e&&lfUtils.getJson("/cart.js",({item_count:i})=>{e._rerenderCart({detail:{cart:{...e,sections:t.sections}}}),e.setAttribute("open",""),document.querySelectorAll("cart-count").forEach(t=>{t.textContent=i}),lfUtils.documentEvent("lookfyCartFinished")})}),document.addEventListener("lookfyCartAdded_broadcast",()=>{"drawer"===lfShop.setup.redirect&&window.cart&&(window.cart.updateCart(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_prestige",()=>{"drawer"===lfShop.setup.redirect&&(document.dispatchEvent(new CustomEvent("cart:refresh")),document.querySelector("[aria-controls='cart-drawer']")?.click(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_reformation",()=>{"drawer"===lfShop.setup.redirect&&(document.dispatchEvent(new CustomEvent("cart:refresh")),document.querySelector("#cart-drawer-toggle")?.click(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_debutify",()=>{"drawer"===lfShop.setup.redirect&&(window.ajaxCart&&window.ajaxCart.load&&ajaxCart.load(),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_woodstock",async({detail:{cartDetail:t}})=>{const e=document.querySelector("cart-drawer");"drawer"===lfShop.setup.redirect&&e&&(e.renderContents(t),e.classList.remove("is-empty"),lfUtils.documentEvent("lookfyCartFinished"))}),document.addEventListener("lookfyCartAdded_stiletto",()=>{const t=document.querySelector(".quick-cart");"drawer"===lfShop.setup.redirect&&t&&(document.dispatchEvent(new CustomEvent("apps:product-added-to-cart")),lfUtils.documentEvent("lookfyCartFinished"))});const o=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){const i=t.target;i.classList.contains("lf-active")||(i.classList.add("lf-loading"),lfGallery(i),i.classList.add("lf-active")),e.unobserve(i)}})},{root:null,rootMargin:"200px 0px",threshold:.01}),r=()=>{if(lfUtils.selectAll(".lookfy-gallery").forEach(t=>{if(t.classList.contains("lf-active"))return;["lf-gallery-site","lookfy-gallery-notlazy"].some(e=>t.classList.contains(e))?(lfGallery(t),t.classList.add("lf-active")):o.observe(t)}),lfUtils.isAdmin()){lfUtils.selectAll(".lookfy-gallery-card").forEach(t=>{t.classList.contains("lf-active")||(t.insertAdjacentHTML("afterbegin",lfUtils.infoSvg),t.classList.add("lf-active"))})}};r();new MutationObserver(t=>{for(const e of t)if("childList"===e.type){r();break}}).observe(document.body,{childList:!0,subtree:!0})}